import{b as ne,a_ as Z,a$ as ce,b0 as ct,b1 as _r,b2 as Yi,b3 as o0,b4 as a0}from"./index-992c5bf9.js";import{e as Ec,p as c0,t as W,h as u0}from"./hooks.module-9a31b7d1.js";function l0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var pi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nu;function tr(){return Nu||(Nu=1,function(t,e){var r=ne,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(pi,pi.exports)),pi.exports}var bi={exports:{}},Yo,Lu;function Zf(){return Lu||(Lu=1,Yo=Ec.EventEmitter),Yo}var Cc={},Yf={},Kf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},f0=Kf,Ki=function(){return f0()&&!!Symbol.toStringTag},Pu=typeof Symbol<"u"&&Symbol,h0=Kf,d0=function(){return typeof Pu!="function"||typeof Symbol!="function"||typeof Pu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:h0()},ju={foo:{}},p0=Object,b0=function(){return{__proto__:ju}.foo===ju.foo&&!({__proto__:null}instanceof p0)},g0="Function.prototype.bind called on incompatible ",Ko=Array.prototype.slice,y0=Object.prototype.toString,v0="[object Function]",m0=function(e){var r=this;if(typeof r!="function"||y0.call(r)!==v0)throw new TypeError(g0+r);for(var n=Ko.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(Ko.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(Ko.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},w0=m0,xc=Function.prototype.bind||w0,_0=xc,S0=_0.call(Function.call,Object.prototype.hasOwnProperty),le,Jr=SyntaxError,Xf=Function,Ur=TypeError,Xo=function(t){try{return Xf('"use strict"; return ('+t+").constructor;")()}catch{}},pr=Object.getOwnPropertyDescriptor;if(pr)try{pr({},"")}catch{pr=null}var ea=function(){throw new Ur},E0=pr?function(){try{return arguments.callee,ea}catch{try{return pr(arguments,"callee").get}catch{return ea}}}():ea,Mr=d0(),C0=b0(),Ne=Object.getPrototypeOf||(C0?function(t){return t.__proto__}:null),Dr={},x0=typeof Uint8Array>"u"||!Ne?le:Ne(Uint8Array),br={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":Mr&&Ne?Ne([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Dr,"%AsyncGenerator%":Dr,"%AsyncGeneratorFunction%":Dr,"%AsyncIteratorPrototype%":Dr,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":Xf,"%GeneratorFunction%":Dr,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mr&&Ne?Ne(Ne([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mr||!Ne?le:Ne(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mr||!Ne?le:Ne(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mr&&Ne?Ne(""[Symbol.iterator]()):le,"%Symbol%":Mr?Symbol:le,"%SyntaxError%":Jr,"%ThrowTypeError%":E0,"%TypedArray%":x0,"%TypeError%":Ur,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet};if(Ne)try{null.error}catch(t){var I0=Ne(Ne(t));br["%Error.prototype%"]=I0}var R0=function t(e){var r;if(e==="%AsyncFunction%")r=Xo("async function () {}");else if(e==="%GeneratorFunction%")r=Xo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Xo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ne&&(r=Ne(i.prototype))}return br[e]=r,r},Du={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vn=xc,$i=S0,A0=Vn.call(Function.call,Array.prototype.concat),O0=Vn.call(Function.apply,Array.prototype.splice),$u=Vn.call(Function.call,String.prototype.replace),Bi=Vn.call(Function.call,String.prototype.slice),T0=Vn.call(Function.call,RegExp.prototype.exec),M0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k0=/\\(\\)?/g,N0=function(e){var r=Bi(e,0,1),n=Bi(e,-1);if(r==="%"&&n!=="%")throw new Jr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Jr("invalid intrinsic syntax, expected opening `%`");var i=[];return $u(e,M0,function(s,o,a,c){i[i.length]=a?$u(c,k0,"$1"):o||s}),i},L0=function(e,r){var n=e,i;if($i(Du,n)&&(i=Du[n],n="%"+i[0]+"%"),$i(br,n)){var s=br[n];if(s===Dr&&(s=R0(n)),typeof s>"u"&&!r)throw new Ur("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Jr("intrinsic "+e+" does not exist!")},Xi=function(e,r){if(typeof e!="string"||e.length===0)throw new Ur("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ur('"allowMissing" argument must be a boolean');if(T0(/^%?[^%]*%?$/,e)===null)throw new Jr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=N0(e),i=n.length>0?n[0]:"",s=L0("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],O0(n,A0([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var h=n[l],d=Bi(h,0,1),E=Bi(h,-1);if((d==='"'||d==="'"||d==="`"||E==='"'||E==="'"||E==="`")&&d!==E)throw new Jr("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",$i(br,o))a=br[o];else if(a!=null){if(!(h in a)){if(!r)throw new Ur("base intrinsic for "+e+" exists, but the property is not available.");return}if(pr&&l+1>=n.length){var A=pr(a,h);f=!!A,f&&"get"in A&&!("originalValue"in A.get)?a=A.get:a=a[h]}else f=$i(a,h),a=a[h];f&&!c&&(br[o]=a)}}return a},eh={exports:{}};(function(t){var e=xc,r=Xi,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var h=s(e,i,arguments);if(o&&a){var d=o(h,"length");d.configurable&&a(h,"length",{value:1+c(0,f.length-(arguments.length-1))})}return h};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(eh);var P0=eh.exports,th=Xi,rh=P0,j0=rh(th("String.prototype.indexOf")),es=function(e,r){var n=th(e,!!r);return typeof n=="function"&&j0(e,".prototype.")>-1?rh(n):n},D0=Ki(),$0=es,ec=$0("Object.prototype.toString"),ts=function(e){return D0&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:ec(e)==="[object Arguments]"},nh=function(e){return ts(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&ec(e)!=="[object Array]"&&ec(e.callee)==="[object Function]"},B0=function(){return ts(arguments)}();ts.isLegacyArguments=nh;var F0=B0?ts:nh,W0=Object.prototype.toString,U0=Function.prototype.toString,V0=/^\s*(?:function)?\*/,ih=Ki(),ta=Object.getPrototypeOf,H0=function(){if(!ih)return!1;try{return Function("return function*() {}")()}catch{}},ra,z0=function(e){if(typeof e!="function")return!1;if(V0.test(U0.call(e)))return!0;if(!ih){var r=W0.call(e);return r==="[object GeneratorFunction]"}if(!ta)return!1;if(typeof ra>"u"){var n=H0();ra=n?ta(n):!1}return ta(e)===ra},sh=Function.prototype.toString,Br=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,tc,Mi;if(typeof Br=="function"&&typeof Object.defineProperty=="function")try{tc=Object.defineProperty({},"length",{get:function(){throw Mi}}),Mi={},Br(function(){throw 42},null,tc)}catch(t){t!==Mi&&(Br=null)}else Br=null;var q0=/^\s*class\b/,rc=function(e){try{var r=sh.call(e);return q0.test(r)}catch{return!1}},na=function(e){try{return rc(e)?!1:(sh.call(e),!0)}catch{return!1}},ki=Object.prototype.toString,G0="[object Object]",J0="[object Function]",Q0="[object GeneratorFunction]",Z0="[object HTMLAllCollection]",Y0="[object HTML document.all class]",K0="[object HTMLCollection]",X0=typeof Symbol=="function"&&!!Symbol.toStringTag,eb=!(0 in[,]),nc=function(){return!1};if(typeof document=="object"){var tb=document.all;ki.call(tb)===ki.call(document.all)&&(nc=function(e){if((eb||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=ki.call(e);return(r===Z0||r===Y0||r===K0||r===G0)&&e("")==null}catch{}return!1})}var rb=Br?function(e){if(nc(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Br(e,null,tc)}catch(r){if(r!==Mi)return!1}return!rc(e)&&na(e)}:function(e){if(nc(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(X0)return na(e);if(rc(e))return!1;var r=ki.call(e);return r!==J0&&r!==Q0&&!/^\[object HTML/.test(r)?!1:na(e)},nb=rb,ib=Object.prototype.toString,oh=Object.prototype.hasOwnProperty,sb=function(e,r,n){for(var i=0,s=e.length;i<s;i++)oh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},ob=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},ab=function(e,r,n){for(var i in e)oh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},cb=function(e,r,n){if(!nb(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),ib.call(e)==="[object Array]"?sb(e,r,i):typeof e=="string"?ob(e,r,i):ab(e,r,i)},ah=cb,ia=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ub=typeof globalThis>"u"?Z:globalThis,ch=function(){for(var e=[],r=0;r<ia.length;r++)typeof ub[ia[r]]=="function"&&(e[e.length]=ia[r]);return e},lb=Xi,Ni=lb("%Object.getOwnPropertyDescriptor%",!0);if(Ni)try{Ni([],"length")}catch{Ni=null}var uh=Ni,lh=ah,fb=ch,Ic=es,hb=Ic("Object.prototype.toString"),fh=Ki(),Li=uh,db=typeof globalThis>"u"?Z:globalThis,hh=fb(),pb=Ic("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},bb=Ic("String.prototype.slice"),dh={},sa=Object.getPrototypeOf;fh&&Li&&sa&&lh(hh,function(t){var e=new db[t];if(Symbol.toStringTag in e){var r=sa(e),n=Li(r,Symbol.toStringTag);if(!n){var i=sa(r);n=Li(i,Symbol.toStringTag)}dh[t]=n.get}});var gb=function(e){var r=!1;return lh(dh,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},ph=function(e){if(!e||typeof e!="object")return!1;if(!fh||!(Symbol.toStringTag in e)){var r=bb(hb(e),8,-1);return pb(hh,r)>-1}return Li?gb(e):!1},bh=ah,yb=ch,gh=es,oa=uh,vb=gh("Object.prototype.toString"),yh=Ki(),Bu=typeof globalThis>"u"?Z:globalThis,mb=yb(),wb=gh("String.prototype.slice"),vh={},aa=Object.getPrototypeOf;yh&&oa&&aa&&bh(mb,function(t){if(typeof Bu[t]=="function"){var e=new Bu[t];if(Symbol.toStringTag in e){var r=aa(e),n=oa(r,Symbol.toStringTag);if(!n){var i=aa(r);n=oa(i,Symbol.toStringTag)}vh[t]=n.get}}});var _b=function(e){var r=!1;return bh(vh,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},Sb=ph,Eb=function(e){return Sb(e)?!yh||!(Symbol.toStringTag in e)?wb(vb(e),8,-1):_b(e):!1};(function(t){var e=F0,r=z0,n=Eb,i=ph;function s(D){return D.call.bind(D)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),u=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(o)var h=s(BigInt.prototype.valueOf);if(a)var d=s(Symbol.prototype.valueOf);function E(D,nr){if(typeof D!="object")return!1;try{return nr(D),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function A(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}t.isPromise=A;function R(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||C(D)}t.isArrayBufferView=R;function g(D){return n(D)==="Uint8Array"}t.isUint8Array=g;function m(D){return n(D)==="Uint8ClampedArray"}t.isUint8ClampedArray=m;function I(D){return n(D)==="Uint16Array"}t.isUint16Array=I;function k(D){return n(D)==="Uint32Array"}t.isUint32Array=k;function T(D){return n(D)==="Int8Array"}t.isInt8Array=T;function F(D){return n(D)==="Int16Array"}t.isInt16Array=F;function J(D){return n(D)==="Int32Array"}t.isInt32Array=J;function G(D){return n(D)==="Float32Array"}t.isFloat32Array=G;function U(D){return n(D)==="Float64Array"}t.isFloat64Array=U;function Y(D){return n(D)==="BigInt64Array"}t.isBigInt64Array=Y;function ie(D){return n(D)==="BigUint64Array"}t.isBigUint64Array=ie;function K(D){return c(D)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function $(D){return typeof Map>"u"?!1:K.working?K(D):D instanceof Map}t.isMap=$;function N(D){return c(D)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function V(D){return typeof Set>"u"?!1:N.working?N(D):D instanceof Set}t.isSet=V;function H(D){return c(D)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function _(D){return typeof WeakMap>"u"?!1:H.working?H(D):D instanceof WeakMap}t.isWeakMap=_;function S(D){return c(D)==="[object WeakSet]"}S.working=typeof WeakSet<"u"&&S(new WeakSet);function x(D){return S(D)}t.isWeakSet=x;function L(D){return c(D)==="[object ArrayBuffer]"}L.working=typeof ArrayBuffer<"u"&&L(new ArrayBuffer);function P(D){return typeof ArrayBuffer>"u"?!1:L.working?L(D):D instanceof ArrayBuffer}t.isArrayBuffer=P;function y(D){return c(D)==="[object DataView]"}y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1));function C(D){return typeof DataView>"u"?!1:y.working?y(D):D instanceof DataView}t.isDataView=C;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Q(D){return c(D)==="[object SharedArrayBuffer]"}function v(D){return typeof O>"u"?!1:(typeof Q.working>"u"&&(Q.working=Q(new O)),Q.working?Q(D):D instanceof O)}t.isSharedArrayBuffer=v;function w(D){return c(D)==="[object AsyncFunction]"}t.isAsyncFunction=w;function M(D){return c(D)==="[object Map Iterator]"}t.isMapIterator=M;function B(D){return c(D)==="[object Set Iterator]"}t.isSetIterator=B;function q(D){return c(D)==="[object Generator]"}t.isGeneratorObject=q;function p(D){return c(D)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=p;function b(D){return E(D,u)}t.isNumberObject=b;function j(D){return E(D,l)}t.isStringObject=j;function z(D){return E(D,f)}t.isBooleanObject=z;function be(D){return o&&E(D,h)}t.isBigIntObject=be;function se(D){return a&&E(D,d)}t.isSymbolObject=se;function pe(D){return b(D)||j(D)||z(D)||be(D)||se(D)}t.isBoxedPrimitive=pe;function lt(D){return typeof Uint8Array<"u"&&(P(D)||v(D))}t.isAnyArrayBuffer=lt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(t,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})})(Yf);var Cb=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(C){for(var O=Object.keys(C),Q={},v=0;v<O.length;v++)Q[O[v]]=Object.getOwnPropertyDescriptor(C,O[v]);return Q},r=/%[sdj%]/g;t.format=function(y){if(!T(y)){for(var C=[],O=0;O<arguments.length;O++)C.push(o(arguments[O]));return C.join(" ")}for(var O=1,Q=arguments,v=Q.length,w=String(y).replace(r,function(B){if(B==="%%")return"%";if(O>=v)return B;switch(B){case"%s":return String(Q[O++]);case"%d":return Number(Q[O++]);case"%j":try{return JSON.stringify(Q[O++])}catch{return"[Circular]"}default:return B}}),M=Q[O];O<v;M=Q[++O])m(M)||!U(M)?w+=" "+M:w+=" "+o(M);return w},t.deprecate=function(y,C){if(typeof ce<"u"&&ce.noDeprecation===!0)return y;if(typeof ce>"u")return function(){return t.deprecate(y,C).apply(this,arguments)};var O=!1;function Q(){if(!O){if(ce.throwDeprecation)throw new Error(C);ce.traceDeprecation?console.trace(C):console.error(C),O=!0}return y.apply(this,arguments)}return Q};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(y){if(y=y.toUpperCase(),!n[y])if(i.test(y)){var C=ce.pid;n[y]=function(){var O=t.format.apply(t,arguments);console.error("%s %d: %s",y,C,O)}}else n[y]=function(){};return n[y]};function o(y,C){var O={seen:[],stylize:c};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),g(C)?O.showHidden=C:C&&t._extend(O,C),J(O.showHidden)&&(O.showHidden=!1),J(O.depth)&&(O.depth=2),J(O.colors)&&(O.colors=!1),J(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=a),l(O,y,O.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(y,C){var O=o.styles[C];return O?"\x1B["+o.colors[O][0]+"m"+y+"\x1B["+o.colors[O][1]+"m":y}function c(y,C){return y}function u(y){var C={};return y.forEach(function(O,Q){C[O]=!0}),C}function l(y,C,O){if(y.customInspect&&C&&K(C.inspect)&&C.inspect!==t.inspect&&!(C.constructor&&C.constructor.prototype===C)){var Q=C.inspect(O,y);return T(Q)||(Q=l(y,Q,O)),Q}var v=f(y,C);if(v)return v;var w=Object.keys(C),M=u(w);if(y.showHidden&&(w=Object.getOwnPropertyNames(C)),ie(C)&&(w.indexOf("message")>=0||w.indexOf("description")>=0))return h(C);if(w.length===0){if(K(C)){var B=C.name?": "+C.name:"";return y.stylize("[Function"+B+"]","special")}if(G(C))return y.stylize(RegExp.prototype.toString.call(C),"regexp");if(Y(C))return y.stylize(Date.prototype.toString.call(C),"date");if(ie(C))return h(C)}var q="",p=!1,b=["{","}"];if(R(C)&&(p=!0,b=["[","]"]),K(C)){var j=C.name?": "+C.name:"";q=" [Function"+j+"]"}if(G(C)&&(q=" "+RegExp.prototype.toString.call(C)),Y(C)&&(q=" "+Date.prototype.toUTCString.call(C)),ie(C)&&(q=" "+h(C)),w.length===0&&(!p||C.length==0))return b[0]+q+b[1];if(O<0)return G(C)?y.stylize(RegExp.prototype.toString.call(C),"regexp"):y.stylize("[Object]","special");y.seen.push(C);var z;return p?z=d(y,C,O,M,w):z=w.map(function(be){return E(y,C,O,M,be,p)}),y.seen.pop(),A(z,q,b)}function f(y,C){if(J(C))return y.stylize("undefined","undefined");if(T(C)){var O="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return y.stylize(O,"string")}if(k(C))return y.stylize(""+C,"number");if(g(C))return y.stylize(""+C,"boolean");if(m(C))return y.stylize("null","null")}function h(y){return"["+Error.prototype.toString.call(y)+"]"}function d(y,C,O,Q,v){for(var w=[],M=0,B=C.length;M<B;++M)S(C,String(M))?w.push(E(y,C,O,Q,String(M),!0)):w.push("");return v.forEach(function(q){q.match(/^\d+$/)||w.push(E(y,C,O,Q,q,!0))}),w}function E(y,C,O,Q,v,w){var M,B,q;if(q=Object.getOwnPropertyDescriptor(C,v)||{value:C[v]},q.get?q.set?B=y.stylize("[Getter/Setter]","special"):B=y.stylize("[Getter]","special"):q.set&&(B=y.stylize("[Setter]","special")),S(Q,v)||(M="["+v+"]"),B||(y.seen.indexOf(q.value)<0?(m(O)?B=l(y,q.value,null):B=l(y,q.value,O-1),B.indexOf(`
`)>-1&&(w?B=B.split(`
`).map(function(p){return"  "+p}).join(`
`).slice(2):B=`
`+B.split(`
`).map(function(p){return"   "+p}).join(`
`))):B=y.stylize("[Circular]","special")),J(M)){if(w&&v.match(/^\d+$/))return B;M=JSON.stringify(""+v),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=y.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=y.stylize(M,"string"))}return M+": "+B}function A(y,C,O){var Q=y.reduce(function(v,w){return w.indexOf(`
`)>=0,v+w.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?O[0]+(C===""?"":C+`
 `)+" "+y.join(`,
  `)+" "+O[1]:O[0]+C+" "+y.join(", ")+" "+O[1]}t.types=Yf;function R(y){return Array.isArray(y)}t.isArray=R;function g(y){return typeof y=="boolean"}t.isBoolean=g;function m(y){return y===null}t.isNull=m;function I(y){return y==null}t.isNullOrUndefined=I;function k(y){return typeof y=="number"}t.isNumber=k;function T(y){return typeof y=="string"}t.isString=T;function F(y){return typeof y=="symbol"}t.isSymbol=F;function J(y){return y===void 0}t.isUndefined=J;function G(y){return U(y)&&N(y)==="[object RegExp]"}t.isRegExp=G,t.types.isRegExp=G;function U(y){return typeof y=="object"&&y!==null}t.isObject=U;function Y(y){return U(y)&&N(y)==="[object Date]"}t.isDate=Y,t.types.isDate=Y;function ie(y){return U(y)&&(N(y)==="[object Error]"||y instanceof Error)}t.isError=ie,t.types.isNativeError=ie;function K(y){return typeof y=="function"}t.isFunction=K;function $(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||typeof y>"u"}t.isPrimitive=$,t.isBuffer=Cb;function N(y){return Object.prototype.toString.call(y)}function V(y){return y<10?"0"+y.toString(10):y.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var y=new Date,C=[V(y.getHours()),V(y.getMinutes()),V(y.getSeconds())].join(":");return[y.getDate(),H[y.getMonth()],C].join(" ")}t.log=function(){console.log("%s - %s",_(),t.format.apply(t,arguments))},t.inherits=ct(),t._extend=function(y,C){if(!C||!U(C))return y;for(var O=Object.keys(C),Q=O.length;Q--;)y[O[Q]]=C[O[Q]];return y};function S(y,C){return Object.prototype.hasOwnProperty.call(y,C)}var x=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(x&&C[x]){var O=C[x];if(typeof O!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,x,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var Q,v,w=new Promise(function(q,p){Q=q,v=p}),M=[],B=0;B<arguments.length;B++)M.push(arguments[B]);M.push(function(q,p){q?v(q):Q(p)});try{C.apply(this,M)}catch(q){v(q)}return w}return Object.setPrototypeOf(O,Object.getPrototypeOf(C)),x&&Object.defineProperty(O,x,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,e(C))},t.promisify.custom=x;function L(y,C){if(!y){var O=new Error("Promise was rejected with a falsy value");O.reason=y,y=O}return C(y)}function P(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var O=[],Q=0;Q<arguments.length;Q++)O.push(arguments[Q]);var v=O.pop();if(typeof v!="function")throw new TypeError("The last argument must be of type Function");var w=this,M=function(){return v.apply(w,arguments)};y.apply(this,O).then(function(B){ce.nextTick(M.bind(null,null,B))},function(B){ce.nextTick(L.bind(null,B,M))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(y)),Object.defineProperties(C,e(y)),C}t.callbackify=P})(Cc);var ca,Fu;function xb(){if(Fu)return ca;Fu=1;function t(E,A){var R=Object.keys(E);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(E);A&&(g=g.filter(function(m){return Object.getOwnPropertyDescriptor(E,m).enumerable})),R.push.apply(R,g)}return R}function e(E){for(var A=1;A<arguments.length;A++){var R=arguments[A]!=null?arguments[A]:{};A%2?t(Object(R),!0).forEach(function(g){r(E,g,R[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):t(Object(R)).forEach(function(g){Object.defineProperty(E,g,Object.getOwnPropertyDescriptor(R,g))})}return E}function r(E,A,R){return A=o(A),A in E?Object.defineProperty(E,A,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[A]=R,E}function n(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function i(E,A){for(var R=0;R<A.length;R++){var g=A[R];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,o(g.key),g)}}function s(E,A,R){return A&&i(E.prototype,A),R&&i(E,R),Object.defineProperty(E,"prototype",{writable:!1}),E}function o(E){var A=a(E,"string");return typeof A=="symbol"?A:String(A)}function a(E,A){if(typeof E!="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var g=R.call(E,A||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}var c=ne,u=c.Buffer,l=Cc,f=l.inspect,h=f&&f.custom||"inspect";function d(E,A,R){u.prototype.copy.call(E,A,R)}return ca=function(){function E(){n(this,E),this.head=null,this.tail=null,this.length=0}return s(E,[{key:"push",value:function(R){var g={data:R,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(R){var g={data:R,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var g=this.head,m=""+g.data;g=g.next;)m+=R+g.data;return m}},{key:"concat",value:function(R){if(this.length===0)return u.alloc(0);for(var g=u.allocUnsafe(R>>>0),m=this.head,I=0;m;)d(m.data,g,I),I+=m.data.length,m=m.next;return g}},{key:"consume",value:function(R,g){var m;return R<this.head.data.length?(m=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?m=this.shift():m=g?this._getString(R):this._getBuffer(R),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var g=this.head,m=1,I=g.data;for(R-=I.length;g=g.next;){var k=g.data,T=R>k.length?k.length:R;if(T===k.length?I+=k:I+=k.slice(0,R),R-=T,R===0){T===k.length?(++m,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=k.slice(T));break}++m}return this.length-=m,I}},{key:"_getBuffer",value:function(R){var g=u.allocUnsafe(R),m=this.head,I=1;for(m.data.copy(g),R-=m.data.length;m=m.next;){var k=m.data,T=R>k.length?k.length:R;if(k.copy(g,g.length-R,0,T),R-=T,R===0){T===k.length?(++I,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=k.slice(T));break}++I}return this.length-=I,g}},{key:h,value:function(R,g){return f(this,e(e({},g),{},{depth:0,customInspect:!1}))}}]),E}(),ca}var ua,Wu;function mh(){if(Wu)return ua;Wu=1;function t(o,a){var c=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ce.nextTick(i,this,o)):ce.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!a&&f?c._writableState?c._writableState.errorEmitted?ce.nextTick(r,c):(c._writableState.errorEmitted=!0,ce.nextTick(e,c,f)):ce.nextTick(e,c,f):a?(ce.nextTick(r,c),a(f)):ce.nextTick(r,c)}),this)}function e(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(a):o.emit("error",a)}return ua={destroy:t,undestroy:n,errorOrDestroy:s},ua}var la={},Uu;function un(){if(Uu)return la;Uu=1;function t(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var e={};function r(a,c,u){u||(u=Error);function l(h,d,E){return typeof c=="string"?c:c(h,d,E)}var f=function(h){t(d,h);function d(E,A,R){return h.call(this,l(E,A,R))||this}return d}(u);f.prototype.name=u.name,f.prototype.code=a,e[a]=f}function n(a,c){if(Array.isArray(a)){var u=a.length;return a=a.map(function(l){return String(l)}),u>2?"one of ".concat(c," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function i(a,c,u){return a.substr(!u||u<0?0:+u,c.length)===c}function s(a,c,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-c.length,u)===c}function o(a,c,u){return typeof u!="number"&&(u=0),u+c.length>a.length?!1:a.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,c,u){var l;typeof c=="string"&&i(c,"not ")?(l="must not be",c=c.replace(/^not /,"")):l="must be";var f;if(s(a," argument"))f="The ".concat(a," ").concat(l," ").concat(n(c,"type"));else{var h=o(a,".")?"property":"argument";f='The "'.concat(a,'" ').concat(h," ").concat(l," ").concat(n(c,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),la.codes=e,la}var fa,Vu;function wh(){if(Vu)return fa;Vu=1;var t=un().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=o?s:"highWaterMark";throw new t(c,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return fa={getHighWaterMark:r},fa}var ha,Hu;function Ib(){if(Hu)return ha;Hu=1,ha=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Z.localStorage)return!1}catch{return!1}var n=Z.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return ha}var da,zu;function _h(){if(zu)return da;zu=1,da=G;function t(v){var w=this;this.next=null,this.entry=null,this.finish=function(){Q(w,v)}}var e;G.WritableState=F;var r={deprecate:Ib()},n=Zf(),i=ne.Buffer,s=(typeof Z<"u"?Z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(v){return i.from(v)}function a(v){return i.isBuffer(v)||v instanceof s}var c=mh(),u=wh(),l=u.getHighWaterMark,f=un().codes,h=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,E=f.ERR_MULTIPLE_CALLBACK,A=f.ERR_STREAM_CANNOT_PIPE,R=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,m=f.ERR_STREAM_WRITE_AFTER_END,I=f.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;ct()(G,n);function T(){}function F(v,w,M){e=e||Qr(),v=v||{},typeof M!="boolean"&&(M=w instanceof e),this.objectMode=!!v.objectMode,M&&(this.objectMode=this.objectMode||!!v.writableObjectMode),this.highWaterMark=l(this,v,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=v.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){H(w,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}F.prototype.getBuffer=function(){for(var w=this.bufferedRequest,M=[];w;)M.push(w),w=w.next;return M},function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(w){return J.call(this,w)?!0:this!==G?!1:w&&w._writableState instanceof F}})):J=function(w){return w instanceof this};function G(v){e=e||Qr();var w=this instanceof e;if(!w&&!J.call(G,this))return new G(v);this._writableState=new F(v,this,w),this.writable=!0,v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final)),n.call(this)}G.prototype.pipe=function(){k(this,new A)};function U(v,w){var M=new m;k(v,M),ce.nextTick(w,M)}function Y(v,w,M,B){var q;return M===null?q=new g:typeof M!="string"&&!w.objectMode&&(q=new h("chunk",["string","Buffer"],M)),q?(k(v,q),ce.nextTick(B,q),!1):!0}G.prototype.write=function(v,w,M){var B=this._writableState,q=!1,p=!B.objectMode&&a(v);return p&&!i.isBuffer(v)&&(v=o(v)),typeof w=="function"&&(M=w,w=null),p?w="buffer":w||(w=B.defaultEncoding),typeof M!="function"&&(M=T),B.ending?U(this,M):(p||Y(this,B,v,M))&&(B.pendingcb++,q=K(this,B,p,v,w,M)),q},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var v=this._writableState;v.corked&&(v.corked--,!v.writing&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&x(this,v))},G.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new I(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(v,w,M){return!v.objectMode&&v.decodeStrings!==!1&&typeof w=="string"&&(w=i.from(w,M)),w}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(v,w,M,B,q,p){if(!M){var b=ie(w,B,q);B!==b&&(M=!0,q="buffer",B=b)}var j=w.objectMode?1:B.length;w.length+=j;var z=w.length<w.highWaterMark;if(z||(w.needDrain=!0),w.writing||w.corked){var be=w.lastBufferedRequest;w.lastBufferedRequest={chunk:B,encoding:q,isBuf:M,callback:p,next:null},be?be.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else $(v,w,!1,j,B,q,p);return z}function $(v,w,M,B,q,p,b){w.writelen=B,w.writecb=b,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new R("write")):M?v._writev(q,w.onwrite):v._write(q,p,w.onwrite),w.sync=!1}function N(v,w,M,B,q){--w.pendingcb,M?(ce.nextTick(q,B),ce.nextTick(C,v,w),v._writableState.errorEmitted=!0,k(v,B)):(q(B),v._writableState.errorEmitted=!0,k(v,B),C(v,w))}function V(v){v.writing=!1,v.writecb=null,v.length-=v.writelen,v.writelen=0}function H(v,w){var M=v._writableState,B=M.sync,q=M.writecb;if(typeof q!="function")throw new E;if(V(M),w)N(v,M,B,w,q);else{var p=L(M)||v.destroyed;!p&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&x(v,M),B?ce.nextTick(_,v,M,p,q):_(v,M,p,q)}}function _(v,w,M,B){M||S(v,w),w.pendingcb--,B(),C(v,w)}function S(v,w){w.length===0&&w.needDrain&&(w.needDrain=!1,v.emit("drain"))}function x(v,w){w.bufferProcessing=!0;var M=w.bufferedRequest;if(v._writev&&M&&M.next){var B=w.bufferedRequestCount,q=new Array(B),p=w.corkedRequestsFree;p.entry=M;for(var b=0,j=!0;M;)q[b]=M,M.isBuf||(j=!1),M=M.next,b+=1;q.allBuffers=j,$(v,w,!0,w.length,q,"",p.finish),w.pendingcb++,w.lastBufferedRequest=null,p.next?(w.corkedRequestsFree=p.next,p.next=null):w.corkedRequestsFree=new t(w),w.bufferedRequestCount=0}else{for(;M;){var z=M.chunk,be=M.encoding,se=M.callback,pe=w.objectMode?1:z.length;if($(v,w,!1,pe,z,be,se),M=M.next,w.bufferedRequestCount--,w.writing)break}M===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=M,w.bufferProcessing=!1}G.prototype._write=function(v,w,M){M(new d("_write()"))},G.prototype._writev=null,G.prototype.end=function(v,w,M){var B=this._writableState;return typeof v=="function"?(M=v,v=null,w=null):typeof w=="function"&&(M=w,w=null),v!=null&&this.write(v,w),B.corked&&(B.corked=1,this.uncork()),B.ending||O(this,B,M),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(v){return v.ending&&v.length===0&&v.bufferedRequest===null&&!v.finished&&!v.writing}function P(v,w){v._final(function(M){w.pendingcb--,M&&k(v,M),w.prefinished=!0,v.emit("prefinish"),C(v,w)})}function y(v,w){!w.prefinished&&!w.finalCalled&&(typeof v._final=="function"&&!w.destroyed?(w.pendingcb++,w.finalCalled=!0,ce.nextTick(P,v,w)):(w.prefinished=!0,v.emit("prefinish")))}function C(v,w){var M=L(w);if(M&&(y(v,w),w.pendingcb===0&&(w.finished=!0,v.emit("finish"),w.autoDestroy))){var B=v._readableState;(!B||B.autoDestroy&&B.endEmitted)&&v.destroy()}return M}function O(v,w,M){w.ending=!0,C(v,w),M&&(w.finished?ce.nextTick(M):v.once("finish",M)),w.ended=!0,v.writable=!1}function Q(v,w,M){var B=v.entry;for(v.entry=null;B;){var q=B.callback;w.pendingcb--,q(M),B=B.next}w.corkedRequestsFree.next=v}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(v,w){w(v)},da}var pa,qu;function Qr(){if(qu)return pa;qu=1;var t=Object.keys||function(u){var l=[];for(var f in u)l.push(f);return l};pa=o;var e=Sh(),r=_h();ct()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||ce.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),pa}var ba={},Gu;function Ju(){if(Gu)return ba;Gu=1;var t=tr().Buffer,e=t.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(g){if(!g)return"utf8";for(var m;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(m)return;g=(""+g).toLowerCase(),m=!0}}function n(g){var m=r(g);if(typeof m!="string"&&(t.isEncoding===e||!e(g)))throw new Error("Unknown encoding: "+g);return m||g}ba.StringDecoder=i;function i(g){this.encoding=n(g);var m;switch(this.encoding){case"utf16le":this.text=f,this.end=h,m=4;break;case"utf8":this.fillLast=c,m=4;break;case"base64":this.text=d,this.end=E,m=3;break;default:this.write=A,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}i.prototype.write=function(g){if(g.length===0)return"";var m,I;if(this.lastNeed){if(m=this.fillLast(g),m===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<g.length?m?m+this.text(g,I):this.text(g,I):m||""},i.prototype.end=l,i.prototype.text=u,i.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function s(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function o(g,m,I){var k=m.length-1;if(k<I)return 0;var T=s(m[k]);return T>=0?(T>0&&(g.lastNeed=T-1),T):--k<I||T===-2?0:(T=s(m[k]),T>=0?(T>0&&(g.lastNeed=T-2),T):--k<I||T===-2?0:(T=s(m[k]),T>=0?(T>0&&(T===2?T=0:g.lastNeed=T-3),T):0))}function a(g,m,I){if((m[0]&192)!==128)return g.lastNeed=0,"�";if(g.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return g.lastNeed=1,"�";if(g.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return g.lastNeed=2,"�"}}function c(g){var m=this.lastTotal-this.lastNeed,I=a(this,g);if(I!==void 0)return I;if(this.lastNeed<=g.length)return g.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,m,0,g.length),this.lastNeed-=g.length}function u(g,m){var I=o(this,g,m);if(!this.lastNeed)return g.toString("utf8",m);this.lastTotal=I;var k=g.length-(I-this.lastNeed);return g.copy(this.lastChar,0,k),g.toString("utf8",m,k)}function l(g){var m=g&&g.length?this.write(g):"";return this.lastNeed?m+"�":m}function f(g,m){if((g.length-m)%2===0){var I=g.toString("utf16le",m);if(I){var k=I.charCodeAt(I.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",m,g.length-1)}function h(g){var m=g&&g.length?this.write(g):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,I)}return m}function d(g,m){var I=(g.length-m)%3;return I===0?g.toString("base64",m):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",m,g.length-I))}function E(g){var m=g&&g.length?this.write(g):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function A(g){return g.toString(this.encoding)}function R(g){return g&&g.length?this.write(g):""}return ba}var ga,Qu;function Rc(){if(Qu)return ga;Qu=1;var t=un().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,l=function(){s.writable||h()},f=s._writableState&&s._writableState.finished,h=function(){u=!1,f=!0,c||a.call(s)},d=s._readableState&&s._readableState.endEmitted,E=function(){c=!1,d=!0,u||a.call(s)},A=function(I){a.call(s,I)},R=function(){var I;if(c&&!d)return(!s._readableState||!s._readableState.ended)&&(I=new t),a.call(s,I);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(I=new t),a.call(s,I)},g=function(){s.req.on("finish",h)};return n(s)?(s.on("complete",h),s.on("abort",R),s.req?g():s.on("request",g)):u&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",E),s.on("finish",h),o.error!==!1&&s.on("error",A),s.on("close",R),function(){s.removeListener("complete",h),s.removeListener("abort",R),s.removeListener("request",g),s.req&&s.req.removeListener("finish",h),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",h),s.removeListener("end",E),s.removeListener("error",A),s.removeListener("close",R)}}return ga=i,ga}var ya,Zu;function Rb(){if(Zu)return ya;Zu=1;var t;function e(I,k,T){return k=r(k),k in I?Object.defineProperty(I,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):I[k]=T,I}function r(I){var k=n(I,"string");return typeof k=="symbol"?k:String(k)}function n(I,k){if(typeof I!="object"||I===null)return I;var T=I[Symbol.toPrimitive];if(T!==void 0){var F=T.call(I,k||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(I)}var i=Rc(),s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function h(I,k){return{value:I,done:k}}function d(I){var k=I[s];if(k!==null){var T=I[f].read();T!==null&&(I[u]=null,I[s]=null,I[o]=null,k(h(T,!1)))}}function E(I){ce.nextTick(d,I)}function A(I,k){return function(T,F){I.then(function(){if(k[c]){T(h(void 0,!0));return}k[l](T,F)},F)}}var R=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var k=this,T=this[a];if(T!==null)return Promise.reject(T);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(U,Y){ce.nextTick(function(){k[a]?Y(k[a]):U(h(void 0,!0))})});var F=this[u],J;if(F)J=new Promise(A(F,this));else{var G=this[f].read();if(G!==null)return Promise.resolve(h(G,!1));J=new Promise(this[l])}return this[u]=J,J}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var k=this;return new Promise(function(T,F){k[f].destroy(null,function(J){if(J){F(J);return}T(h(void 0,!0))})})}),t),R),m=function(k){var T,F=Object.create(g,(T={},e(T,f,{value:k,writable:!0}),e(T,s,{value:null,writable:!0}),e(T,o,{value:null,writable:!0}),e(T,a,{value:null,writable:!0}),e(T,c,{value:k._readableState.endEmitted,writable:!0}),e(T,l,{value:function(G,U){var Y=F[f].read();Y?(F[u]=null,F[s]=null,F[o]=null,G(h(Y,!1))):(F[s]=G,F[o]=U)},writable:!0}),T));return F[u]=null,i(k,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=F[o];G!==null&&(F[u]=null,F[s]=null,F[o]=null,G(J)),F[a]=J;return}var U=F[s];U!==null&&(F[u]=null,F[s]=null,F[o]=null,U(h(void 0,!0))),F[c]=!0}),k.on("readable",E.bind(null,F)),F};return ya=m,ya}var va,Yu;function Ab(){return Yu||(Yu=1,va=function(){throw new Error("Readable.from is not available in the browser")}),va}var ma,Ku;function Sh(){if(Ku)return ma;Ku=1,ma=U;var t;U.ReadableState=G,Ec.EventEmitter;var e=function(b,j){return b.listeners(j).length},r=Zf(),n=ne.Buffer,i=(typeof Z<"u"?Z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(p){return n.from(p)}function o(p){return n.isBuffer(p)||p instanceof i}var a=Cc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=xb(),l=mh(),f=wh(),h=f.getHighWaterMark,d=un().codes,E=d.ERR_INVALID_ARG_TYPE,A=d.ERR_STREAM_PUSH_AFTER_EOF,R=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,I,k;ct()(U,r);var T=l.errorOrDestroy,F=["error","close","destroy","pause","resume"];function J(p,b,j){if(typeof p.prependListener=="function")return p.prependListener(b,j);!p._events||!p._events[b]?p.on(b,j):Array.isArray(p._events[b])?p._events[b].unshift(j):p._events[b]=[j,p._events[b]]}function G(p,b,j){t=t||Qr(),p=p||{},typeof j!="boolean"&&(j=b instanceof t),this.objectMode=!!p.objectMode,j&&(this.objectMode=this.objectMode||!!p.readableObjectMode),this.highWaterMark=h(this,p,"readableHighWaterMark",j),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=p.emitClose!==!1,this.autoDestroy=!!p.autoDestroy,this.destroyed=!1,this.defaultEncoding=p.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,p.encoding&&(m||(m=Ju().StringDecoder),this.decoder=new m(p.encoding),this.encoding=p.encoding)}function U(p){if(t=t||Qr(),!(this instanceof U))return new U(p);var b=this instanceof t;this._readableState=new G(p,this,b),this.readable=!0,p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy)),r.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),U.prototype.destroy=l.destroy,U.prototype._undestroy=l.undestroy,U.prototype._destroy=function(p,b){b(p)},U.prototype.push=function(p,b){var j=this._readableState,z;return j.objectMode?z=!0:typeof p=="string"&&(b=b||j.defaultEncoding,b!==j.encoding&&(p=n.from(p,b),b=""),z=!0),Y(this,p,b,!1,z)},U.prototype.unshift=function(p){return Y(this,p,null,!0,!1)};function Y(p,b,j,z,be){c("readableAddChunk",b);var se=p._readableState;if(b===null)se.reading=!1,H(p,se);else{var pe;if(be||(pe=K(se,b)),pe)T(p,pe);else if(se.objectMode||b&&b.length>0)if(typeof b!="string"&&!se.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=s(b)),z)se.endEmitted?T(p,new g):ie(p,se,b,!0);else if(se.ended)T(p,new A);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!j?(b=se.decoder.write(b),se.objectMode||b.length!==0?ie(p,se,b,!1):x(p,se)):ie(p,se,b,!1)}else z||(se.reading=!1,x(p,se))}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function ie(p,b,j,z){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,p.emit("data",j)):(b.length+=b.objectMode?1:j.length,z?b.buffer.unshift(j):b.buffer.push(j),b.needReadable&&_(p)),x(p,b)}function K(p,b){var j;return!o(b)&&typeof b!="string"&&b!==void 0&&!p.objectMode&&(j=new E("chunk",["string","Buffer","Uint8Array"],b)),j}U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(p){m||(m=Ju().StringDecoder);var b=new m(p);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,z="";j!==null;)z+=b.write(j.data),j=j.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var $=1073741824;function N(p){return p>=$?p=$:(p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++),p}function V(p,b){return p<=0||b.length===0&&b.ended?0:b.objectMode?1:p!==p?b.flowing&&b.length?b.buffer.head.data.length:b.length:(p>b.highWaterMark&&(b.highWaterMark=N(p)),p<=b.length?p:b.ended?b.length:(b.needReadable=!0,0))}U.prototype.read=function(p){c("read",p),p=parseInt(p,10);var b=this._readableState,j=p;if(p!==0&&(b.emittedReadable=!1),p===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return c("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?M(this):_(this),null;if(p=V(p,b),p===0&&b.ended)return b.length===0&&M(this),null;var z=b.needReadable;c("need readable",z),(b.length===0||b.length-p<b.highWaterMark)&&(z=!0,c("length less than watermark",z)),b.ended||b.reading?(z=!1,c("reading or ended",z)):z&&(c("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(p=V(j,b)));var be;return p>0?be=w(p,b):be=null,be===null?(b.needReadable=b.length<=b.highWaterMark,p=0):(b.length-=p,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),j!==p&&b.ended&&M(this)),be!==null&&this.emit("data",be),be};function H(p,b){if(c("onEofChunk"),!b.ended){if(b.decoder){var j=b.decoder.end();j&&j.length&&(b.buffer.push(j),b.length+=b.objectMode?1:j.length)}b.ended=!0,b.sync?_(p):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,S(p)))}}function _(p){var b=p._readableState;c("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(c("emitReadable",b.flowing),b.emittedReadable=!0,ce.nextTick(S,p))}function S(p){var b=p._readableState;c("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(p.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,v(p)}function x(p,b){b.readingMore||(b.readingMore=!0,ce.nextTick(L,p,b))}function L(p,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var j=b.length;if(c("maybeReadMore read 0"),p.read(0),j===b.length)break}b.readingMore=!1}U.prototype._read=function(p){T(this,new R("_read()"))},U.prototype.pipe=function(p,b){var j=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=p;break;case 1:z.pipes=[z.pipes,p];break;default:z.pipes.push(p);break}z.pipesCount+=1,c("pipe count=%d opts=%j",z.pipesCount,b);var be=(!b||b.end!==!1)&&p!==ce.stdout&&p!==ce.stderr,se=be?lt:Wt;z.endEmitted?ce.nextTick(se):j.once("end",se),p.on("unpipe",pe);function pe(Nt,mt){c("onunpipe"),Nt===j&&mt&&mt.hasUnpiped===!1&&(mt.hasUnpiped=!0,Sn())}function lt(){c("onend"),p.end()}var D=P(j);p.on("drain",D);var nr=!1;function Sn(){c("cleanup"),p.removeListener("close",Or),p.removeListener("finish",Tr),p.removeListener("drain",D),p.removeListener("error",Ar),p.removeListener("unpipe",pe),j.removeListener("end",lt),j.removeListener("end",Wt),j.removeListener("data",En),nr=!0,z.awaitDrain&&(!p._writableState||p._writableState.needDrain)&&D()}j.on("data",En);function En(Nt){c("ondata");var mt=p.write(Nt);c("dest.write",mt),mt===!1&&((z.pipesCount===1&&z.pipes===p||z.pipesCount>1&&q(z.pipes,p)!==-1)&&!nr&&(c("false write response, pause",z.awaitDrain),z.awaitDrain++),j.pause())}function Ar(Nt){c("onerror",Nt),Wt(),p.removeListener("error",Ar),e(p,"error")===0&&T(p,Nt)}J(p,"error",Ar);function Or(){p.removeListener("finish",Tr),Wt()}p.once("close",Or);function Tr(){c("onfinish"),p.removeListener("close",Or),Wt()}p.once("finish",Tr);function Wt(){c("unpipe"),j.unpipe(p)}return p.emit("pipe",j),z.flowing||(c("pipe resume"),j.resume()),p};function P(p){return function(){var j=p._readableState;c("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&e(p,"data")&&(j.flowing=!0,v(p))}}U.prototype.unpipe=function(p){var b=this._readableState,j={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return p&&p!==b.pipes?this:(p||(p=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,p&&p.emit("unpipe",this,j),this);if(!p){var z=b.pipes,be=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var se=0;se<be;se++)z[se].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=q(b.pipes,p);return pe===-1?this:(b.pipes.splice(pe,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),p.emit("unpipe",this,j),this)},U.prototype.on=function(p,b){var j=r.prototype.on.call(this,p,b),z=this._readableState;return p==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):p==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,c("on readable",z.length,z.reading),z.length?_(this):z.reading||ce.nextTick(C,this)),j},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(p,b){var j=r.prototype.removeListener.call(this,p,b);return p==="readable"&&ce.nextTick(y,this),j},U.prototype.removeAllListeners=function(p){var b=r.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&ce.nextTick(y,this),b};function y(p){var b=p._readableState;b.readableListening=p.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:p.listenerCount("data")>0&&p.resume()}function C(p){c("readable nexttick read 0"),p.read(0)}U.prototype.resume=function(){var p=this._readableState;return p.flowing||(c("resume"),p.flowing=!p.readableListening,O(this,p)),p.paused=!1,this};function O(p,b){b.resumeScheduled||(b.resumeScheduled=!0,ce.nextTick(Q,p,b))}function Q(p,b){c("resume",b.reading),b.reading||p.read(0),b.resumeScheduled=!1,p.emit("resume"),v(p),b.flowing&&!b.reading&&p.read(0)}U.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function v(p){var b=p._readableState;for(c("flow",b.flowing);b.flowing&&p.read()!==null;);}U.prototype.wrap=function(p){var b=this,j=this._readableState,z=!1;p.on("end",function(){if(c("wrapped end"),j.decoder&&!j.ended){var pe=j.decoder.end();pe&&pe.length&&b.push(pe)}b.push(null)}),p.on("data",function(pe){if(c("wrapped data"),j.decoder&&(pe=j.decoder.write(pe)),!(j.objectMode&&pe==null)&&!(!j.objectMode&&(!pe||!pe.length))){var lt=b.push(pe);lt||(z=!0,p.pause())}});for(var be in p)this[be]===void 0&&typeof p[be]=="function"&&(this[be]=function(lt){return function(){return p[lt].apply(p,arguments)}}(be));for(var se=0;se<F.length;se++)p.on(F[se],this.emit.bind(this,F[se]));return this._read=function(pe){c("wrapped _read",pe),z&&(z=!1,p.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return I===void 0&&(I=Rb()),I(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),U._fromList=w,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function w(p,b){if(b.length===0)return null;var j;return b.objectMode?j=b.buffer.shift():!p||p>=b.length?(b.decoder?j=b.buffer.join(""):b.buffer.length===1?j=b.buffer.first():j=b.buffer.concat(b.length),b.buffer.clear()):j=b.buffer.consume(p,b.decoder),j}function M(p){var b=p._readableState;c("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,ce.nextTick(B,b,p))}function B(p,b){if(c("endReadableNT",p.endEmitted,p.length),!p.endEmitted&&p.length===0&&(p.endEmitted=!0,b.readable=!1,b.emit("end"),p.autoDestroy)){var j=b._writableState;(!j||j.autoDestroy&&j.finished)&&b.destroy()}}typeof Symbol=="function"&&(U.from=function(p,b){return k===void 0&&(k=Ab()),k(U,p,b)});function q(p,b){for(var j=0,z=p.length;j<z;j++)if(p[j]===b)return j;return-1}return ma}var wa,Xu;function Eh(){if(Xu)return wa;Xu=1,wa=a;var t=un().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Qr();ct()(a,s);function o(l,f){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,f!=null&&this.push(f),d(l);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);s.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",c)}function c(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,h){u(l,f,h)}):u(this,null,null)}a.prototype.push=function(l,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,f)},a.prototype._transform=function(l,f,h){h(new e("_transform()"))},a.prototype._write=function(l,f,h){var d=this._transformState;if(d.writecb=h,d.writechunk=l,d.writeencoding=f,!d.transforming){var E=this._readableState;(d.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},a.prototype._read=function(l){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(l,f){s.prototype._destroy.call(this,l,function(h){f(h)})};function u(l,f,h){if(f)return l.emit("error",f);if(h!=null&&l.push(h),l._writableState.length)throw new i;if(l._transformState.transforming)throw new n;return l.push(null)}return wa}var _a,el;function Ob(){if(el)return _a;el=1,_a=e;var t=Eh();ct()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},_a}var Sa,tl;function Tb(){if(tl)return Sa;tl=1;var t;function e(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var r=un().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,d,E,A){A=e(A);var R=!1;h.on("close",function(){R=!0}),t===void 0&&(t=Rc()),t(h,{readable:d,writable:E},function(m){if(m)return A(m);R=!0,A()});var g=!1;return function(m){if(!R&&!g){if(g=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();A(m||new i("pipe"))}}}function c(h){h()}function u(h,d){return h.pipe(d)}function l(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function f(){for(var h=arguments.length,d=new Array(h),E=0;E<h;E++)d[E]=arguments[E];var A=l(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var R,g=d.map(function(m,I){var k=I<d.length-1,T=I>0;return a(m,k,T,function(F){R||(R=F),F&&g.forEach(c),!k&&(g.forEach(c),A(R))})});return d.reduce(u)}return Sa=f,Sa}var rl;function Ch(){return rl||(rl=1,function(t,e){e=t.exports=Sh(),e.Stream=e,e.Readable=e,e.Writable=_h(),e.Duplex=Qr(),e.Transform=Eh(),e.PassThrough=Ob(),e.finished=Rc(),e.pipeline=Tb()}(bi,bi.exports)),bi.exports}var xh={exports:{}},Ih=tr().Buffer;function rs(t,e){this._block=Ih.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}rs.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Ih.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};rs.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};rs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ln=rs,Mb=ct(),Rh=ln,kb=tr().Buffer,Nb=[1518500249,1859775393,-1894007588,-899497514],Lb=new Array(80);function Hn(){this.init(),this._w=Lb,Rh.call(this,64,56)}Mb(Hn,Rh);Hn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Pb(t){return t<<5|t>>>27}function jb(t){return t<<30|t>>>2}function Db(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Hn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=Pb(r)+Db(u,n,i,s)+o+e[c]+Nb[u]|0;o=s,s=i,i=jb(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Hn.prototype._hash=function(){var t=kb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var $b=Hn,Bb=ct(),Ah=ln,Fb=tr().Buffer,Wb=[1518500249,1859775393,-1894007588,-899497514],Ub=new Array(80);function zn(){this.init(),this._w=Ub,Ah.call(this,64,56)}Bb(zn,Ah);zn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Vb(t){return t<<1|t>>>31}function Hb(t){return t<<5|t>>>27}function zb(t){return t<<30|t>>>2}function qb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}zn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Vb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=Hb(r)+qb(u,n,i,s)+o+e[c]+Wb[u]|0;o=s,s=i,i=zb(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};zn.prototype._hash=function(){var t=Fb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Gb=zn,Jb=ct(),Oh=ln,Qb=tr().Buffer,Zb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Yb=new Array(64);function qn(){this.init(),this._w=Yb,Oh.call(this,64,56)}Jb(qn,Oh);qn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Kb(t,e,r){return r^t&(e^r)}function Xb(t,e,r){return t&e|r&(t|e)}function eg(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function tg(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function rg(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function ng(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}qn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=ng(e[l-2])+e[l-7]+rg(e[l-15])+e[l-16]|0;for(var f=0;f<64;++f){var h=u+tg(o)+Kb(o,a,c)+Zb[f]+e[f]|0,d=eg(r)+Xb(r,n,i)|0;u=c,c=a,a=o,o=s+h|0,s=i,i=n,n=r,r=h+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};qn.prototype._hash=function(){var t=Qb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Th=qn,ig=ct(),sg=Th,og=ln,ag=tr().Buffer,cg=new Array(64);function ns(){this.init(),this._w=cg,og.call(this,64,56)}ig(ns,sg);ns.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ns.prototype._hash=function(){var t=ag.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var ug=ns,lg=ct(),Mh=ln,fg=tr().Buffer,nl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],hg=new Array(160);function Gn(){this.init(),this._w=hg,Mh.call(this,128,112)}lg(Gn,Mh);Gn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function il(t,e,r){return r^t&(e^r)}function sl(t,e,r){return t&e|r&(t|e)}function ol(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function al(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function dg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function pg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function bg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function gg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Te(t,e){return t>>>0<e>>>0?1:0}Gn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,f=this._bl|0,h=this._cl|0,d=this._dl|0,E=this._el|0,A=this._fl|0,R=this._gl|0,g=this._hl|0,m=0;m<32;m+=2)e[m]=t.readInt32BE(m*4),e[m+1]=t.readInt32BE(m*4+4);for(;m<160;m+=2){var I=e[m-30],k=e[m-15*2+1],T=dg(I,k),F=pg(k,I);I=e[m-2*2],k=e[m-2*2+1];var J=bg(I,k),G=gg(k,I),U=e[m-7*2],Y=e[m-7*2+1],ie=e[m-16*2],K=e[m-16*2+1],$=F+Y|0,N=T+U+Te($,F)|0;$=$+G|0,N=N+J+Te($,G)|0,$=$+K|0,N=N+ie+Te($,K)|0,e[m]=N,e[m+1]=$}for(var V=0;V<160;V+=2){N=e[V],$=e[V+1];var H=sl(r,n,i),_=sl(l,f,h),S=ol(r,l),x=ol(l,r),L=al(o,E),P=al(E,o),y=nl[V],C=nl[V+1],O=il(o,a,c),Q=il(E,A,R),v=g+P|0,w=u+L+Te(v,g)|0;v=v+Q|0,w=w+O+Te(v,Q)|0,v=v+C|0,w=w+y+Te(v,C)|0,v=v+$|0,w=w+N+Te(v,$)|0;var M=x+_|0,B=S+H+Te(M,x)|0;u=c,g=R,c=a,R=A,a=o,A=E,E=d+v|0,o=s+w+Te(E,d)|0,s=i,d=h,i=n,h=f,n=r,f=l,l=v+M|0,r=w+B+Te(l,v)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+d|0,this._el=this._el+E|0,this._fl=this._fl+A|0,this._gl=this._gl+R|0,this._hl=this._hl+g|0,this._ah=this._ah+r+Te(this._al,l)|0,this._bh=this._bh+n+Te(this._bl,f)|0,this._ch=this._ch+i+Te(this._cl,h)|0,this._dh=this._dh+s+Te(this._dl,d)|0,this._eh=this._eh+o+Te(this._el,E)|0,this._fh=this._fh+a+Te(this._fl,A)|0,this._gh=this._gh+c+Te(this._gl,R)|0,this._hh=this._hh+u+Te(this._hl,g)|0};Gn.prototype._hash=function(){var t=fg.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var kh=Gn,yg=ct(),vg=kh,mg=ln,wg=tr().Buffer,_g=new Array(160);function is(){this.init(),this._w=_g,mg.call(this,128,112)}yg(is,vg);is.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};is.prototype._hash=function(){var t=wg.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Sg=is,Sr=xh.exports=function(e){e=e.toLowerCase();var r=Sr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Sr.sha=$b;Sr.sha1=Gb;Sr.sha224=ug;Sr.sha256=Th;Sr.sha384=Sg;Sr.sha512=kh;var Eg=xh.exports,ic={exports:{}},Ea,cl;function Cg(){if(cl)return Ea;cl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ea=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=n?Math.round(l/n)+"d":f>=r?Math.round(l/r)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=n?u(l,f,n,"day"):f>=r?u(l,f,r,"hour"):f>=e?u(l,f,e,"minute"):f>=t?u(l,f,t,"second"):l+" ms"}function u(l,f,h,d){var E=f>=h*1.5;return Math.round(l/h)+" "+d+(E?"s":"")}return Ea}function xg(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Cg(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,d,E;function A(...R){if(!A.enabled)return;const g=A,m=Number(new Date),I=m-(f||m);g.diff=I,g.prev=f,g.curr=m,f=m,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let k=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(F,J)=>{if(F==="%%")return"%";k++;const G=r.formatters[J];if(typeof G=="function"){const U=R[k];F=G.call(g,U),R.splice(k,1),k--}return F}),r.formatArgs.call(g,R),(g.log||r.log).apply(g,R)}return A.namespace=l,A.useColors=r.useColors(),A.color=r.selectColor(l),A.extend=n,A.destroy=r.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,E=r.enabled(l)),E),set:R=>{h=R}}),typeof r.init=="function"&&r.init(A),A}function n(l,f){const h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f;const h=(typeof l=="string"?l:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Ig=xg;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(l++,h==="%c"&&(f=l))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof ce<"u"&&"env"in ce&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=Ig(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(ic,ic.exports);var Rg=ic.exports,Ca,ul;function Ag(){return ul||(ul=1,Ca=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Ca}var Og=de;de.Node=gr;de.create=de;function de(t){var e=this;if(e instanceof de||(e=new de),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}de.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};de.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};de.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};de.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Mg(this,arguments[t]);return this.length};de.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)kg(this,arguments[t]);return this.length};de.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};de.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};de.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};de.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};de.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};de.prototype.map=function(t,e){e=e||this;for(var r=new de,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(t,e){e=e||this;for(var r=new de,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};de.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};de.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};de.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};de.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};de.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};de.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Tg(this,i,r[n]);return s};de.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Tg(t,e,r){var n=e===t.head?new gr(r,null,e,t):new gr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Mg(t,e){t.tail=new gr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function kg(t,e){t.head=new gr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function gr(t,e,r,n){if(!(this instanceof gr))return new gr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ag()(de)}catch{}const Ng=Og,ar=Symbol("max"),jt=Symbol("length"),kr=Symbol("lengthCalculator"),Mn=Symbol("allowStale"),fr=Symbol("maxAge"),Lt=Symbol("dispose"),ll=Symbol("noDisposeOnSet"),Me=Symbol("lruList"),pt=Symbol("cache"),Nh=Symbol("updateAgeOnGet"),xa=()=>1;class Lg{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[ar]=e.max||1/0;const r=e.length||xa;if(this[kr]=typeof r!="function"?xa:r,this[Mn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[fr]=e.maxAge||0,this[Lt]=e.dispose,this[ll]=e.noDisposeOnSet||!1,this[Nh]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ar]=e||1/0,Cn(this)}get max(){return this[ar]}set allowStale(e){this[Mn]=!!e}get allowStale(){return this[Mn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[fr]=e,Cn(this)}get maxAge(){return this[fr]}set lengthCalculator(e){typeof e!="function"&&(e=xa),e!==this[kr]&&(this[kr]=e,this[jt]=0,this[Me].forEach(r=>{r.length=this[kr](r.value,r.key),this[jt]+=r.length})),Cn(this)}get lengthCalculator(){return this[kr]}get length(){return this[jt]}get itemCount(){return this[Me].length}rforEach(e,r){r=r||this;for(let n=this[Me].tail;n!==null;){const i=n.prev;fl(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Me].head;n!==null;){const i=n.next;fl(this,e,n,r),n=i}}keys(){return this[Me].toArray().map(e=>e.key)}values(){return this[Me].toArray().map(e=>e.value)}reset(){this[Lt]&&this[Me]&&this[Me].length&&this[Me].forEach(e=>this[Lt](e.key,e.value)),this[pt]=new Map,this[Me]=new Ng,this[jt]=0}dump(){return this[Me].map(e=>Fi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Me]}set(e,r,n){if(n=n||this[fr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[kr](r,e);if(this[pt].has(e)){if(s>this[ar])return Vr(this,this[pt].get(e)),!1;const c=this[pt].get(e).value;return this[Lt]&&(this[ll]||this[Lt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[jt]+=s-c.length,c.length=s,this.get(e),Cn(this),!0}const o=new Pg(e,r,s,i,n);return o.length>this[ar]?(this[Lt]&&this[Lt](e,r),!1):(this[jt]+=o.length,this[Me].unshift(o),this[pt].set(e,this[Me].head),Cn(this),!0)}has(e){if(!this[pt].has(e))return!1;const r=this[pt].get(e).value;return!Fi(this,r)}get(e){return Ia(this,e,!0)}peek(e){return Ia(this,e,!1)}pop(){const e=this[Me].tail;return e?(Vr(this,e),e.value):null}del(e){Vr(this,this[pt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[pt].forEach((e,r)=>Ia(this,r,!1))}}const Ia=(t,e,r)=>{const n=t[pt].get(e);if(n){const i=n.value;if(Fi(t,i)){if(Vr(t,n),!t[Mn])return}else r&&(t[Nh]&&(n.value.now=Date.now()),t[Me].unshiftNode(n));return i.value}},Fi=(t,e)=>{if(!e||!e.maxAge&&!t[fr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[fr]&&r>t[fr]},Cn=t=>{if(t[jt]>t[ar])for(let e=t[Me].tail;t[jt]>t[ar]&&e!==null;){const r=e.prev;Vr(t,e),e=r}},Vr=(t,e)=>{if(e){const r=e.value;t[Lt]&&t[Lt](r.key,r.value),t[jt]-=r.length,t[pt].delete(r.key),t[Me].removeNode(e)}};class Pg{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const fl=(t,e,r,n)=>{let i=r.value;Fi(t,i)&&(Vr(t,r),t[Mn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var jg=Lg;const Dg=Object.freeze({loose:!0}),$g=Object.freeze({}),Bg=t=>t?typeof t!="object"?Dg:t:$g;var Ac=Bg,sc={exports:{}};const Fg="2.0.0",Lh=256,Wg=Number.MAX_SAFE_INTEGER||9007199254740991,Ug=16,Vg=Lh-6,Hg=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ss={MAX_LENGTH:Lh,MAX_SAFE_COMPONENT_LENGTH:Ug,MAX_SAFE_BUILD_LENGTH:Vg,MAX_SAFE_INTEGER:Wg,RELEASE_TYPES:Hg,SEMVER_SPEC_VERSION:Fg,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const zg=typeof ce=="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var os=zg;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n}=ss,i=os;e=t.exports={};const s=e.re=[],o=e.safeRe=[],a=e.src=[],c=e.t={};let u=0;const l="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",r],[l,n]],h=E=>{for(const[A,R]of f)E=E.split(`${A}*`).join(`${A}{0,${R}}`).split(`${A}+`).join(`${A}{1,${R}}`);return E},d=(E,A,R)=>{const g=h(A),m=u++;i(E,m,A),c[E]=m,a[m]=A,s[m]=new RegExp(A,R?"g":void 0),o[m]=new RegExp(g,R?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),d("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${l}+`),d("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),d("FULL",`^${a[c.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),d("LOOSE",`^${a[c.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${a[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${a[c.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),d("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),d("COERCERTL",a[c.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",d("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",d("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(sc,sc.exports);var Jn=sc.exports;const hl=/^[0-9]+$/,Ph=(t,e)=>{const r=hl.test(t),n=hl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},qg=(t,e)=>Ph(e,t);var jh={compareIdentifiers:Ph,rcompareIdentifiers:qg};const gi=os,{MAX_LENGTH:dl,MAX_SAFE_INTEGER:yi}=ss,{safeRe:pl,t:bl}=Jn,Gg=Ac,{compareIdentifiers:Nr}=jh;let Jg=class Et{constructor(e,r){if(r=Gg(r),e instanceof Et){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>dl)throw new TypeError(`version is longer than ${dl} characters`);gi("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?pl[bl.LOOSE]:pl[bl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>yi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>yi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>yi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<yi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(gi("SemVer.compare",this.version,this.options,e),!(e instanceof Et)){if(typeof e=="string"&&e===this.version)return 0;e=new Et(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Et||(e=new Et(e,this.options)),Nr(this.major,e.major)||Nr(this.minor,e.minor)||Nr(this.patch,e.patch)}comparePre(e){if(e instanceof Et||(e=new Et(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(gi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Nr(n,i)}while(++r)}compareBuild(e){e instanceof Et||(e=new Et(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(gi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Nr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Nr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ge=Jg;const gl=Ge,Qg=(t,e,r)=>new gl(t,r).compare(new gl(e,r));var yt=Qg;const Zg=yt,Yg=(t,e,r)=>Zg(t,e,r)===0;var Dh=Yg;const Kg=yt,Xg=(t,e,r)=>Kg(t,e,r)!==0;var $h=Xg;const ey=yt,ty=(t,e,r)=>ey(t,e,r)>0;var as=ty;const ry=yt,ny=(t,e,r)=>ry(t,e,r)>=0;var Oc=ny;const iy=yt,sy=(t,e,r)=>iy(t,e,r)<0;var Tc=sy;const oy=yt,ay=(t,e,r)=>oy(t,e,r)<=0;var Mc=ay;const cy=Dh,uy=$h,ly=as,fy=Oc,hy=Tc,dy=Mc,py=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return cy(t,r,n);case"!=":return uy(t,r,n);case">":return ly(t,r,n);case">=":return fy(t,r,n);case"<":return hy(t,r,n);case"<=":return dy(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Bh=py,Ra,yl;function cs(){if(yl)return Ra;yl=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,f){if(f=r(f),l instanceof e){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=l.match(f);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,f).test(l.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Ra=e;const r=Ac,{safeRe:n,t:i}=Jn,s=Bh,o=os,a=Ge,c=vt();return Ra}var Aa,vl;function vt(){if(vl)return Aa;vl=1;class t{constructor(N,V){if(V=n(V),N instanceof t)return N.loose===!!V.loose&&N.includePrerelease===!!V.includePrerelease?N:new t(N.raw,V);if(N instanceof i)return this.raw=N.value,this.set=[[N]],this.format(),this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=N.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(H=>this.parseRange(H)).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(_=>!E(_[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const _ of this.set)if(_.length===1&&A(_[0])){this.set=[_];break}}}this.format()}format(){return this.range=this.set.map(N=>N.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(N){const H=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+N,_=r.get(H);if(_)return _;const S=this.options.loose,x=S?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];N=N.replace(x,ie(this.options.includePrerelease)),s("hyphen replace",N),N=N.replace(a[c.COMPARATORTRIM],u),s("comparator trim",N),N=N.replace(a[c.TILDETRIM],l),s("tilde trim",N),N=N.replace(a[c.CARETTRIM],f),s("caret trim",N);let L=N.split(" ").map(O=>g(O,this.options)).join(" ").split(/\s+/).map(O=>Y(O,this.options));S&&(L=L.filter(O=>(s("loose invalid filter",O,this.options),!!O.match(a[c.COMPARATORLOOSE])))),s("range list",L);const P=new Map,y=L.map(O=>new i(O,this.options));for(const O of y){if(E(O))return[O];P.set(O.value,O)}P.size>1&&P.has("")&&P.delete("");const C=[...P.values()];return r.set(H,C),C}intersects(N,V){if(!(N instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>R(H,V)&&N.set.some(_=>R(_,V)&&H.every(S=>_.every(x=>S.intersects(x,V)))))}test(N){if(!N)return!1;if(typeof N=="string")try{N=new o(N,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(K(this.set[V],N,this.options))return!0;return!1}}Aa=t;const e=jg,r=new e({max:1e3}),n=Ac,i=cs(),s=os,o=Ge,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:f}=Jn,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=ss,E=$=>$.value==="<0.0.0-0",A=$=>$.value==="",R=($,N)=>{let V=!0;const H=$.slice();let _=H.pop();for(;V&&H.length;)V=H.every(S=>_.intersects(S,N)),_=H.pop();return V},g=($,N)=>(s("comp",$,N),$=T($,N),s("caret",$),$=I($,N),s("tildes",$),$=J($,N),s("xrange",$),$=U($,N),s("stars",$),$),m=$=>!$||$.toLowerCase()==="x"||$==="*",I=($,N)=>$.trim().split(/\s+/).map(V=>k(V,N)).join(" "),k=($,N)=>{const V=N.loose?a[c.TILDELOOSE]:a[c.TILDE];return $.replace(V,(H,_,S,x,L)=>{s("tilde",$,H,_,S,x,L);let P;return m(_)?P="":m(S)?P=`>=${_}.0.0 <${+_+1}.0.0-0`:m(x)?P=`>=${_}.${S}.0 <${_}.${+S+1}.0-0`:L?(s("replaceTilde pr",L),P=`>=${_}.${S}.${x}-${L} <${_}.${+S+1}.0-0`):P=`>=${_}.${S}.${x} <${_}.${+S+1}.0-0`,s("tilde return",P),P})},T=($,N)=>$.trim().split(/\s+/).map(V=>F(V,N)).join(" "),F=($,N)=>{s("caret",$,N);const V=N.loose?a[c.CARETLOOSE]:a[c.CARET],H=N.includePrerelease?"-0":"";return $.replace(V,(_,S,x,L,P)=>{s("caret",$,_,S,x,L,P);let y;return m(S)?y="":m(x)?y=`>=${S}.0.0${H} <${+S+1}.0.0-0`:m(L)?S==="0"?y=`>=${S}.${x}.0${H} <${S}.${+x+1}.0-0`:y=`>=${S}.${x}.0${H} <${+S+1}.0.0-0`:P?(s("replaceCaret pr",P),S==="0"?x==="0"?y=`>=${S}.${x}.${L}-${P} <${S}.${x}.${+L+1}-0`:y=`>=${S}.${x}.${L}-${P} <${S}.${+x+1}.0-0`:y=`>=${S}.${x}.${L}-${P} <${+S+1}.0.0-0`):(s("no pr"),S==="0"?x==="0"?y=`>=${S}.${x}.${L}${H} <${S}.${x}.${+L+1}-0`:y=`>=${S}.${x}.${L}${H} <${S}.${+x+1}.0-0`:y=`>=${S}.${x}.${L} <${+S+1}.0.0-0`),s("caret return",y),y})},J=($,N)=>(s("replaceXRanges",$,N),$.split(/\s+/).map(V=>G(V,N)).join(" ")),G=($,N)=>{$=$.trim();const V=N.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return $.replace(V,(H,_,S,x,L,P)=>{s("xRange",$,H,_,S,x,L,P);const y=m(S),C=y||m(x),O=C||m(L),Q=O;return _==="="&&Q&&(_=""),P=N.includePrerelease?"-0":"",y?_===">"||_==="<"?H="<0.0.0-0":H="*":_&&Q?(C&&(x=0),L=0,_===">"?(_=">=",C?(S=+S+1,x=0,L=0):(x=+x+1,L=0)):_==="<="&&(_="<",C?S=+S+1:x=+x+1),_==="<"&&(P="-0"),H=`${_+S}.${x}.${L}${P}`):C?H=`>=${S}.0.0${P} <${+S+1}.0.0-0`:O&&(H=`>=${S}.${x}.0${P} <${S}.${+x+1}.0-0`),s("xRange return",H),H})},U=($,N)=>(s("replaceStars",$,N),$.trim().replace(a[c.STAR],"")),Y=($,N)=>(s("replaceGTE0",$,N),$.trim().replace(a[N.includePrerelease?c.GTE0PRE:c.GTE0],"")),ie=$=>(N,V,H,_,S,x,L,P,y,C,O,Q,v)=>(m(H)?V="":m(_)?V=`>=${H}.0.0${$?"-0":""}`:m(S)?V=`>=${H}.${_}.0${$?"-0":""}`:x?V=`>=${V}`:V=`>=${V}${$?"-0":""}`,m(y)?P="":m(C)?P=`<${+y+1}.0.0-0`:m(O)?P=`<${y}.${+C+1}.0-0`:Q?P=`<=${y}.${C}.${O}-${Q}`:$?P=`<${y}.${C}.${+O+1}-0`:P=`<=${P}`,`${V} ${P}`.trim()),K=($,N,V)=>{for(let H=0;H<$.length;H++)if(!$[H].test(N))return!1;if(N.prerelease.length&&!V.includePrerelease){for(let H=0;H<$.length;H++)if(s($[H].semver),$[H].semver!==i.ANY&&$[H].semver.prerelease.length>0){const _=$[H].semver;if(_.major===N.major&&_.minor===N.minor&&_.patch===N.patch)return!0}return!1}return!0};return Aa}const by=vt(),gy=(t,e,r)=>{try{e=new by(e,r)}catch{return!1}return e.test(t)};var us=gy;const{Transform:yy}=Ch();var vy=t=>class Fh extends yy{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!ne.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return ne.Buffer.isBuffer(r)||(r=ne.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:my}=Ch();var wy=t=>class Wh extends my{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!ne.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return ne.Buffer.isBuffer(r)||(r=ne.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Wh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const _y=vy,Sy=wy;var Ey=function(t){const e=_y(t),r=Sy(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Uh={};const ml=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Uh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=l^(i<<1|s>>>31),d=f^(s<<1|i>>>31);const E=t[0]^h,A=t[1]^d,R=t[10]^h,g=t[11]^d,m=t[20]^h,I=t[21]^d,k=t[30]^h,T=t[31]^d,F=t[40]^h,J=t[41]^d;h=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const G=t[2]^h,U=t[3]^d,Y=t[12]^h,ie=t[13]^d,K=t[22]^h,$=t[23]^d,N=t[32]^h,V=t[33]^d,H=t[42]^h,_=t[43]^d;h=i^(c<<1|u>>>31),d=s^(u<<1|c>>>31);const S=t[4]^h,x=t[5]^d,L=t[14]^h,P=t[15]^d,y=t[24]^h,C=t[25]^d,O=t[34]^h,Q=t[35]^d,v=t[44]^h,w=t[45]^d;h=o^(l<<1|f>>>31),d=a^(f<<1|l>>>31);const M=t[6]^h,B=t[7]^d,q=t[16]^h,p=t[17]^d,b=t[26]^h,j=t[27]^d,z=t[36]^h,be=t[37]^d,se=t[46]^h,pe=t[47]^d;h=c^(r<<1|n>>>31),d=u^(n<<1|r>>>31);const lt=t[8]^h,D=t[9]^d,nr=t[18]^h,Sn=t[19]^d,En=t[28]^h,Ar=t[29]^d,Or=t[38]^h,Tr=t[39]^d,Wt=t[48]^h,Nt=t[49]^d,mt=E,to=A,ro=g<<4|R>>>28,no=R<<4|g>>>28,io=m<<3|I>>>29,so=I<<3|m>>>29,oo=T<<9|k>>>23,ao=k<<9|T>>>23,co=F<<18|J>>>14,uo=J<<18|F>>>14,lo=G<<1|U>>>31,fo=U<<1|G>>>31,ho=ie<<12|Y>>>20,po=Y<<12|ie>>>20,bo=K<<10|$>>>22,go=$<<10|K>>>22,yo=V<<13|N>>>19,vo=N<<13|V>>>19,mo=H<<2|_>>>30,wo=_<<2|H>>>30,_o=x<<30|S>>>2,So=S<<30|x>>>2,Eo=L<<6|P>>>26,Co=P<<6|L>>>26,xo=C<<11|y>>>21,Io=y<<11|C>>>21,Ro=O<<15|Q>>>17,Ao=Q<<15|O>>>17,Oo=w<<29|v>>>3,To=v<<29|w>>>3,Mo=M<<28|B>>>4,ko=B<<28|M>>>4,No=p<<23|q>>>9,Lo=q<<23|p>>>9,Po=b<<25|j>>>7,jo=j<<25|b>>>7,Do=z<<21|be>>>11,$o=be<<21|z>>>11,Bo=pe<<24|se>>>8,Fo=se<<24|pe>>>8,Wo=lt<<27|D>>>5,Uo=D<<27|lt>>>5,Vo=nr<<20|Sn>>>12,Ho=Sn<<20|nr>>>12,zo=Ar<<7|En>>>25,qo=En<<7|Ar>>>25,Go=Or<<8|Tr>>>24,Jo=Tr<<8|Or>>>24,Qo=Wt<<14|Nt>>>18,Zo=Nt<<14|Wt>>>18;t[0]=mt^~ho&xo,t[1]=to^~po&Io,t[10]=Mo^~Vo&io,t[11]=ko^~Ho&so,t[20]=lo^~Eo&Po,t[21]=fo^~Co&jo,t[30]=Wo^~ro&bo,t[31]=Uo^~no&go,t[40]=_o^~No&zo,t[41]=So^~Lo&qo,t[2]=ho^~xo&Do,t[3]=po^~Io&$o,t[12]=Vo^~io&yo,t[13]=Ho^~so&vo,t[22]=Eo^~Po&Go,t[23]=Co^~jo&Jo,t[32]=ro^~bo&Ro,t[33]=no^~go&Ao,t[42]=No^~zo&oo,t[43]=Lo^~qo&ao,t[4]=xo^~Do&Qo,t[5]=Io^~$o&Zo,t[14]=io^~yo&Oo,t[15]=so^~vo&To,t[24]=Po^~Go&co,t[25]=jo^~Jo&uo,t[34]=bo^~Ro&Bo,t[35]=go^~Ao&Fo,t[44]=zo^~oo&mo,t[45]=qo^~ao&wo,t[6]=Do^~Qo&mt,t[7]=$o^~Zo&to,t[16]=yo^~Oo&Mo,t[17]=vo^~To&ko,t[26]=Go^~co&lo,t[27]=Jo^~uo&fo,t[36]=Ro^~Bo&Wo,t[37]=Ao^~Fo&Uo,t[46]=oo^~mo&_o,t[47]=ao^~wo&So,t[8]=Qo^~mt&ho,t[9]=Zo^~to&po,t[18]=Oo^~Mo&Vo,t[19]=To^~ko&Ho,t[28]=co^~lo&Eo,t[29]=uo^~fo&Co,t[38]=Bo^~Wo&ro,t[39]=Fo^~Uo&no,t[48]=mo^~_o&No,t[49]=wo^~So&Lo,t[0]^=ml[e*2],t[1]^=ml[e*2+1]}};const Wi=Uh;function fn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}fn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};fn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Wi.p1600(this.state),this.count=0)};fn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Wi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Wi.p1600(this.state),this.count=0,this.squeezing=!0};fn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=ne.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Wi.p1600(this.state),this.count=0);return e};fn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Cy=fn,xy=Ey(Cy),kc={},Dn={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.walletLogo=void 0;const Iy=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ls.walletLogo=Iy;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.ScopedLocalStorage=void 0;class Ry{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}fs.ScopedLocalStorage=Ry;var Zr={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});const Ay=Ec;function wl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Oy(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Ty=class extends Ay.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")wl(s,this,r);else{const o=s.length,a=Oy(s);for(let c=0;c<o;c+=1)wl(a[c],this,r)}return!0}};Er.default=Ty;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.EVENTS=void 0;hn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Qn={},Nc={},Zt={},My=$n;$n.default=$n;$n.stable=zh;$n.stableStringify=zh;var Ui="[...]",Vh="[Circular]",yr=[],hr=[];function Hh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $n(t,e,r,n){typeof n>"u"&&(n=Hh()),oc(t,"",0,[],void 0,0,n);var i;try{hr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,qh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yr.length!==0;){var s=yr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Hr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),yr.push([n,r,e,i])):hr.push([e,r,t]):(n[r]=t,yr.push([n,r,e]))}function oc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(Vh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Ui,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Ui,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)oc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];oc(t[u],u,a,n,t,s,o)}}n.pop()}}function ky(t,e){return t<e?-1:t>e?1:0}function zh(t,e,r,n){typeof n>"u"&&(n=Hh());var i=ac(t,"",0,[],void 0,0,n)||t,s;try{hr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,qh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yr.length!==0;){var o=yr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ac(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(Vh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Ui,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Ui,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ac(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(ky);for(a=0;a<u.length;a++){var l=u[a];ac(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")yr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function qh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(hr.length>0)for(var n=0;n<hr.length;n++){var i=hr[n];if(i[1]===e&&i[0]===r){r=i[2],hr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Zt,"__esModule",{value:!0});Zt.EthereumProviderError=Zt.EthereumRpcError=void 0;const Ny=My;class Gh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Ny.default(this.serialize(),jy,2)}}Zt.EthereumRpcError=Gh;class Ly extends Gh{constructor(e,r,n){if(!Py(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Zt.EthereumProviderError=Ly;function Py(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function jy(t,e){if(e!=="[Circular]")return e}var Lc={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.errorValues=Yt.errorCodes=void 0;Yt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Yt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Yt,r=Zt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,d=i){if(Number.isInteger(h)){const E=h.toString();if(f(e.errorValues,E))return e.errorValues[E].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(e.errorValues[d]||u(h))}t.isValidCode=a;function c(h,{fallbackError:d=s,shouldIncludeStack:E=!1}={}){var A,R;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const I=h;g.code=I.code,I.message&&typeof I.message=="string"?(g.message=I.message,f(I,"data")&&(g.data=I.data)):(g.message=o(g.code),g.data={originalError:l(h)})}else{g.code=d.code;const I=(A=h)===null||A===void 0?void 0:A.message;g.message=I&&typeof I=="string"?I:d.message,g.data={originalError:l(h)}}const m=(R=h)===null||R===void 0?void 0:R.stack;return E&&h&&m&&typeof m=="string"&&(g.stack=m),g}t.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,d){return Object.prototype.hasOwnProperty.call(h,d)}})(Lc);var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.ethErrors=void 0;const Pc=Zt,Jh=Lc,Be=Yt;hs.ethErrors={rpc:{parse:t=>et(Be.errorCodes.rpc.parse,t),invalidRequest:t=>et(Be.errorCodes.rpc.invalidRequest,t),invalidParams:t=>et(Be.errorCodes.rpc.invalidParams,t),methodNotFound:t=>et(Be.errorCodes.rpc.methodNotFound,t),internal:t=>et(Be.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return et(e,t)},invalidInput:t=>et(Be.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>et(Be.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>et(Be.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>et(Be.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>et(Be.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>et(Be.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>xn(Be.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>xn(Be.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>xn(Be.errorCodes.provider.unsupportedMethod,t),disconnected:t=>xn(Be.errorCodes.provider.disconnected,t),chainDisconnected:t=>xn(Be.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Pc.EthereumProviderError(e,r,n)}}};function et(t,e){const[r,n]=Qh(e);return new Pc.EthereumRpcError(t,r||Jh.getMessageFromCode(t),n)}function xn(t,e){const[r,n]=Qh(e);return new Pc.EthereumProviderError(t,r||Jh.getMessageFromCode(t),n)}function Qh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Zt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Lc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=hs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Yt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Nc);var ve={},ds={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(ds);Object.defineProperty(ve,"__esModule",{value:!0});ve.EthereumAddressFromSignedMessageResponse=ve.SubmitEthereumTransactionResponse=ve.SignEthereumTransactionResponse=ve.SignEthereumMessageResponse=ve.isRequestEthereumAccountsResponse=ve.SelectProviderResponse=ve.WatchAssetReponse=ve.RequestEthereumAccountsResponse=ve.SwitchEthereumChainResponse=ve.AddEthereumChainResponse=ve.isErrorResponse=void 0;const kt=ds;function Dy(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}ve.isErrorResponse=Dy;function $y(t){return{method:kt.Web3Method.addEthereumChain,result:t}}ve.AddEthereumChainResponse=$y;function By(t){return{method:kt.Web3Method.switchEthereumChain,result:t}}ve.SwitchEthereumChainResponse=By;function Fy(t){return{method:kt.Web3Method.requestEthereumAccounts,result:t}}ve.RequestEthereumAccountsResponse=Fy;function Wy(t){return{method:kt.Web3Method.watchAsset,result:t}}ve.WatchAssetReponse=Wy;function Uy(t){return{method:kt.Web3Method.selectProvider,result:t}}ve.SelectProviderResponse=Uy;function Vy(t){return t&&t.method===kt.Web3Method.requestEthereumAccounts}ve.isRequestEthereumAccountsResponse=Vy;function Hy(t){return{method:kt.Web3Method.signEthereumMessage,result:t}}ve.SignEthereumMessageResponse=Hy;function zy(t){return{method:kt.Web3Method.signEthereumTransaction,result:t}}ve.SignEthereumTransactionResponse=zy;function qy(t){return{method:kt.Web3Method.submitEthereumTransaction,result:t}}ve.SubmitEthereumTransactionResponse=qy;function Gy(t){return{method:kt.Web3Method.ethereumAddressFromSignedMessage,result:t}}ve.EthereumAddressFromSignedMessageResponse=Gy;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.LIB_VERSION=void 0;Zn.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Nc,r=ve,n=Zn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,f){const h=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",h.code.toString());const E=a(h.data,f);return E&&d.searchParams.set("method",E),d.searchParams.set("message",h.message),Object.assign(Object.assign({},h),{docUrl:d.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,f){var h;const d=(h=l)===null||h===void 0?void 0:h.method;if(d)return d;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(l){var f;if(typeof l=="number")return l;if(u(l))return(f=l.code)!==null&&f!==void 0?f:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(Qn);var dn={},X={};const Jy={},Qy=Object.freeze(Object.defineProperty({__proto__:null,default:Jy},Symbol.toStringTag,{value:"Module"})),Zy=_r(Qy);var jc=typeof Map=="function"&&Map.prototype,Oa=Object.getOwnPropertyDescriptor&&jc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Vi=jc&&Oa&&typeof Oa.get=="function"?Oa.get:null,_l=jc&&Map.prototype.forEach,Dc=typeof Set=="function"&&Set.prototype,Ta=Object.getOwnPropertyDescriptor&&Dc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Hi=Dc&&Ta&&typeof Ta.get=="function"?Ta.get:null,Sl=Dc&&Set.prototype.forEach,Yy=typeof WeakMap=="function"&&WeakMap.prototype,kn=Yy?WeakMap.prototype.has:null,Ky=typeof WeakSet=="function"&&WeakSet.prototype,Nn=Ky?WeakSet.prototype.has:null,Xy=typeof WeakRef=="function"&&WeakRef.prototype,El=Xy?WeakRef.prototype.deref:null,ev=Boolean.prototype.valueOf,tv=Object.prototype.toString,rv=Function.prototype.toString,nv=String.prototype.match,$c=String.prototype.slice,Jt=String.prototype.replace,iv=String.prototype.toUpperCase,Cl=String.prototype.toLowerCase,Zh=RegExp.prototype.test,xl=Array.prototype.concat,It=Array.prototype.join,sv=Array.prototype.slice,Il=Math.floor,cc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ma=Object.getOwnPropertySymbols,uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ue=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Yr||"symbol")?Symbol.toStringTag:null,Yh=Object.prototype.propertyIsEnumerable,Rl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Al(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Zh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Il(-t):Il(t);if(n!==t){var i=String(n),s=$c.call(e,i.length+1);return Jt.call(i,r,"$&_")+"."+Jt.call(Jt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jt.call(e,r,"$&_")}var lc=Zy,Ol=lc.custom,Tl=Xh(Ol)?Ol:null,ov=function t(e,r,n,i){var s=r||{};if(zt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return td(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Al(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Al(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return fc(e)?"[Array]":"[Object]";var f=Cv(s,n);if(typeof i>"u")i=[];else if(ed(i,e)>=0)return"[Circular]";function h($,N,V){if(N&&(i=sv.call(i),i.push(N)),V){var H={depth:s.depth};return zt(s,"quoteStyle")&&(H.quoteStyle=s.quoteStyle),t($,H,n+1,i)}return t($,s,n+1,i)}if(typeof e=="function"&&!Ml(e)){var d=bv(e),E=vi(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(E.length>0?" { "+It.call(E,", ")+" }":"")}if(Xh(e)){var A=Yr?Jt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):uc.call(e);return typeof e=="object"&&!Yr?In(A):A}if(_v(e)){for(var R="<"+Cl.call(String(e.nodeName)),g=e.attributes||[],m=0;m<g.length;m++)R+=" "+g[m].name+"="+Kh(av(g[m].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Cl.call(String(e.nodeName))+">",R}if(fc(e)){if(e.length===0)return"[]";var I=vi(e,h);return f&&!Ev(I)?"["+hc(I,f)+"]":"[ "+It.call(I,", ")+" ]"}if(uv(e)){var k=vi(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Yh.call(e,"cause")?"{ ["+String(e)+"] "+It.call(xl.call("[cause]: "+h(e.cause),k),", ")+" }":k.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+It.call(k,", ")+" }"}if(typeof e=="object"&&o){if(Tl&&typeof e[Tl]=="function"&&lc)return lc(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(gv(e)){var T=[];return _l&&_l.call(e,function($,N){T.push(h(N,e,!0)+" => "+h($,e))}),kl("Map",Vi.call(e),T,f)}if(mv(e)){var F=[];return Sl&&Sl.call(e,function($){F.push(h($,e))}),kl("Set",Hi.call(e),F,f)}if(yv(e))return ka("WeakMap");if(wv(e))return ka("WeakSet");if(vv(e))return ka("WeakRef");if(fv(e))return In(h(Number(e)));if(dv(e))return In(h(cc.call(e)));if(hv(e))return In(ev.call(e));if(lv(e))return In(h(String(e)));if(!cv(e)&&!Ml(e)){var J=vi(e,h),G=Rl?Rl(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",Y=!G&&Ue&&Object(e)===e&&Ue in e?$c.call(rr(e),8,-1):U?"Object":"",ie=G||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ie+(Y||U?"["+It.call(xl.call([],Y||[],U||[]),": ")+"] ":"");return J.length===0?K+"{}":f?K+"{"+hc(J,f)+"}":K+"{ "+It.call(J,", ")+" }"}return String(e)};function Kh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function av(t){return Jt.call(String(t),/"/g,"&quot;")}function fc(t){return rr(t)==="[object Array]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function cv(t){return rr(t)==="[object Date]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function Ml(t){return rr(t)==="[object RegExp]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function uv(t){return rr(t)==="[object Error]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function lv(t){return rr(t)==="[object String]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function fv(t){return rr(t)==="[object Number]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function hv(t){return rr(t)==="[object Boolean]"&&(!Ue||!(typeof t=="object"&&Ue in t))}function Xh(t){if(Yr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!uc)return!1;try{return uc.call(t),!0}catch{}return!1}function dv(t){if(!t||typeof t!="object"||!cc)return!1;try{return cc.call(t),!0}catch{}return!1}var pv=Object.prototype.hasOwnProperty||function(t){return t in this};function zt(t,e){return pv.call(t,e)}function rr(t){return tv.call(t)}function bv(t){if(t.name)return t.name;var e=nv.call(rv.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ed(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function gv(t){if(!Vi||!t||typeof t!="object")return!1;try{Vi.call(t);try{Hi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function yv(t){if(!kn||!t||typeof t!="object")return!1;try{kn.call(t,kn);try{Nn.call(t,Nn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function vv(t){if(!El||!t||typeof t!="object")return!1;try{return El.call(t),!0}catch{}return!1}function mv(t){if(!Hi||!t||typeof t!="object")return!1;try{Hi.call(t);try{Vi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function wv(t){if(!Nn||!t||typeof t!="object")return!1;try{Nn.call(t,Nn);try{kn.call(t,kn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _v(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function td(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return td($c.call(t,0,e.maxStringLength),e)+n}var i=Jt.call(Jt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Sv);return Kh(i,"single",e)}function Sv(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+iv.call(e.toString(16))}function In(t){return"Object("+t+")"}function ka(t){return t+" { ? }"}function kl(t,e,r,n){var i=n?hc(r,n):It.call(r,", ");return t+" ("+e+") {"+i+"}"}function Ev(t){for(var e=0;e<t.length;e++)if(ed(t[e],`
`)>=0)return!1;return!0}function Cv(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=It.call(Array(t.indent+1)," ");else return null;return{base:r,prev:It.call(Array(e+1),r)}}function hc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+It.call(t,","+r)+`
`+e.prev}function vi(t,e){var r=fc(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=zt(t,i)?e(t[i],t):""}var s=typeof Ma=="function"?Ma(t):[],o;if(Yr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)zt(t,c)&&(r&&String(Number(c))===c&&c<t.length||Yr&&o["$"+c]instanceof Symbol||(Zh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Ma=="function")for(var u=0;u<s.length;u++)Yh.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Bc=Xi,pn=es,xv=ov,Iv=Bc("%TypeError%"),mi=Bc("%WeakMap%",!0),wi=Bc("%Map%",!0),Rv=pn("WeakMap.prototype.get",!0),Av=pn("WeakMap.prototype.set",!0),Ov=pn("WeakMap.prototype.has",!0),Tv=pn("Map.prototype.get",!0),Mv=pn("Map.prototype.set",!0),kv=pn("Map.prototype.has",!0),Fc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Nv=function(t,e){var r=Fc(t,e);return r&&r.value},Lv=function(t,e,r){var n=Fc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Pv=function(t,e){return!!Fc(t,e)},jv=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Iv("Side channel does not contain "+xv(s))},get:function(s){if(mi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Rv(e,s)}else if(wi){if(r)return Tv(r,s)}else if(n)return Nv(n,s)},has:function(s){if(mi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ov(e,s)}else if(wi){if(r)return kv(r,s)}else if(n)return Pv(n,s);return!1},set:function(s,o){mi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new mi),Av(e,s,o)):wi?(r||(r=new wi),Mv(r,s,o)):(n||(n={key:{},next:null}),Lv(n,s,o))}};return i},Dv=String.prototype.replace,$v=/%20/g,Na={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wc={default:Na.RFC3986,formatters:{RFC1738:function(t){return Dv.call(t,$v,"+")},RFC3986:function(t){return String(t)}},RFC1738:Na.RFC1738,RFC3986:Na.RFC3986},Bv=Wc,La=Object.prototype.hasOwnProperty,cr=Array.isArray,wt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Fv=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(cr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},rd=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Wv=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(cr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!La.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return cr(e)&&!cr(r)&&(i=rd(e,n)),cr(e)&&cr(r)?(r.forEach(function(s,o){if(La.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return La.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Uv=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Vv=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Hv=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Bv.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+wt[u];continue}if(u<2048){a=a+(wt[192|u>>6]+wt[128|u&63]);continue}if(u<55296||u>=57344){a=a+(wt[224|u>>12]+wt[128|u>>6&63]+wt[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=wt[240|u>>18]+wt[128|u>>12&63]+wt[128|u>>6&63]+wt[128|u&63]}return a},zv=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return Fv(r),e},qv=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Gv=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Jv=function(e,r){return[].concat(e,r)},Qv=function(e,r){if(cr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},nd={arrayToObject:rd,assign:Uv,combine:Jv,compact:zv,decode:Vv,encode:Hv,isBuffer:Gv,isRegExp:qv,maybeMap:Qv,merge:Wv},id=jv,Pi=nd,Ln=Wc,Zv=Object.prototype.hasOwnProperty,Nl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dt=Array.isArray,Yv=Array.prototype.push,sd=function(t,e){Yv.apply(t,Dt(e)?e:[e])},Kv=Date.prototype.toISOString,Ll=Ln.default,We={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Pi.encode,encodeValuesOnly:!1,format:Ll,formatter:Ln.formatters[Ll],indices:!1,serializeDate:function(e){return Kv.call(e)},skipNulls:!1,strictNullHandling:!1},Xv=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pa={},em=function t(e,r,n,i,s,o,a,c,u,l,f,h,d,E,A,R){for(var g=e,m=R,I=0,k=!1;(m=m.get(Pa))!==void 0&&!k;){var T=m.get(e);if(I+=1,typeof T<"u"){if(T===I)throw new RangeError("Cyclic object value");k=!0}typeof m.get(Pa)>"u"&&(I=0)}if(typeof c=="function"?g=c(r,g):g instanceof Date?g=f(g):n==="comma"&&Dt(g)&&(g=Pi.maybeMap(g,function(H){return H instanceof Date?f(H):H})),g===null){if(s)return a&&!E?a(r,We.encoder,A,"key",h):r;g=""}if(Xv(g)||Pi.isBuffer(g)){if(a){var F=E?r:a(r,We.encoder,A,"key",h);return[d(F)+"="+d(a(g,We.encoder,A,"value",h))]}return[d(r)+"="+d(String(g))]}var J=[];if(typeof g>"u")return J;var G;if(n==="comma"&&Dt(g))E&&a&&(g=Pi.maybeMap(g,a)),G=[{value:g.length>0?g.join(",")||null:void 0}];else if(Dt(c))G=c;else{var U=Object.keys(g);G=u?U.sort(u):U}for(var Y=i&&Dt(g)&&g.length===1?r+"[]":r,ie=0;ie<G.length;++ie){var K=G[ie],$=typeof K=="object"&&typeof K.value<"u"?K.value:g[K];if(!(o&&$===null)){var N=Dt(g)?typeof n=="function"?n(Y,K):Y:Y+(l?"."+K:"["+K+"]");R.set(e,I);var V=id();V.set(Pa,R),sd(J,t($,N,n,i,s,o,n==="comma"&&E&&Dt(g)?null:a,c,u,l,f,h,d,E,A,V))}}return J},tm=function(e){if(!e)return We;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||We.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ln.default;if(typeof e.format<"u"){if(!Zv.call(Ln.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ln.formatters[n],s=We.filter;return(typeof e.filter=="function"||Dt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:We.addQueryPrefix,allowDots:typeof e.allowDots>"u"?We.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:We.charsetSentinel,delimiter:typeof e.delimiter>"u"?We.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:We.encode,encoder:typeof e.encoder=="function"?e.encoder:We.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:We.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:We.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:We.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:We.strictNullHandling}},rm=function(t,e){var r=t,n=tm(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Dt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Nl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Nl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=id(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||sd(o,em(r[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=o.join(n.delimiter),E=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),d.length>0?E+d:""},Kr=nd,dc=Object.prototype.hasOwnProperty,nm=Array.isArray,ke={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Kr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},im=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},od=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},sm="utf8=%26%2310003%3B",om="utf8=%E2%9C%93",am=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===om?u="utf-8":o[c]===sm&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,d,E;h===-1?(d=r.decoder(l,ke.decoder,u,"key"),E=r.strictNullHandling?null:""):(d=r.decoder(l.slice(0,h),ke.decoder,u,"key"),E=Kr.maybeMap(od(l.slice(h+1),r),function(A){return r.decoder(A,ke.decoder,u,"value")})),E&&r.interpretNumericEntities&&u==="iso-8859-1"&&(E=im(E)),l.indexOf("[]=")>-1&&(E=nm(E)?[E]:E),dc.call(n,d)?n[d]=Kr.combine(n[d],E):n[d]=E}return n},cm=function(t,e,r,n){for(var i=n?e:od(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},um=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&dc.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&dc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),cm(l,r,n,i)}},lm=function(e){if(!e)return ke;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ke.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||Kr.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},fm=function(t,e){var r=lm(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?am(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=um(a,n[a],r,typeof t=="string");i=Kr.merge(i,c,r)}return r.allowSparse===!0?i:Kr.compact(i)},hm=rm,dm=fm,pm=Wc,bm={formats:pm,parse:dm,stringify:hm},Yn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Yn);var gm=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X,"__esModule",{value:!0});X.isInIFrame=X.createQrUrl=X.getFavicon=X.range=X.isBigNumber=X.ensureParsedJSONObject=X.ensureBN=X.ensureRegExpString=X.ensureIntNumber=X.ensureBuffer=X.ensureAddressString=X.ensureEvenLengthHexString=X.ensureHexString=X.isHexString=X.prepend0x=X.strip0x=X.has0xPrefix=X.hexStringFromIntNumber=X.intNumberFromHexString=X.bigIntStringFromBN=X.hexStringFromBuffer=X.hexStringToUint8Array=X.uint8ArrayToHex=X.randomBytesHex=void 0;const qt=gm(Yi),ym=bm,Cr=Qn,ot=Yn,ad=/^[0-9]*$/,cd=/^[a-f0-9]*$/;function vm(t){return ud(crypto.getRandomValues(new Uint8Array(t)))}X.randomBytesHex=vm;function ud(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}X.uint8ArrayToHex=ud;function mm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}X.hexStringToUint8Array=mm;function wm(t,e=!1){const r=t.toString("hex");return(0,ot.HexString)(e?"0x"+r:r)}X.hexStringFromBuffer=wm;function _m(t){return(0,ot.BigIntString)(t.toString(10))}X.bigIntStringFromBN=_m;function Sm(t){return(0,ot.IntNumber)(new qt.default(Xn(t,!1),16).toNumber())}X.intNumberFromHexString=Sm;function Em(t){return(0,ot.HexString)("0x"+new qt.default(t).toString(16))}X.hexStringFromIntNumber=Em;function Uc(t){return t.startsWith("0x")||t.startsWith("0X")}X.has0xPrefix=Uc;function ps(t){return Uc(t)?t.slice(2):t}X.strip0x=ps;function ld(t){return Uc(t)?"0x"+t.slice(2):"0x"+t}X.prepend0x=ld;function Kn(t){if(typeof t!="string")return!1;const e=ps(t).toLowerCase();return cd.test(e)}X.isHexString=Kn;function fd(t,e=!1){if(typeof t=="string"){const r=ps(t).toLowerCase();if(cd.test(r))return(0,ot.HexString)(e?"0x"+r:r)}throw Cr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}X.ensureHexString=fd;function Xn(t,e=!1){let r=fd(t,!1);return r.length%2===1&&(r=(0,ot.HexString)("0"+r)),e?(0,ot.HexString)("0x"+r):r}X.ensureEvenLengthHexString=Xn;function Cm(t){if(typeof t=="string"){const e=ps(t).toLowerCase();if(Kn(e)&&e.length===40)return(0,ot.AddressString)(ld(e))}throw Cr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}X.ensureAddressString=Cm;function xm(t){if(ne.Buffer.isBuffer(t))return t;if(typeof t=="string")if(Kn(t)){const e=Xn(t,!1);return ne.Buffer.from(e,"hex")}else return ne.Buffer.from(t,"utf8");throw Cr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}X.ensureBuffer=xm;function hd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,ot.IntNumber)(t);if(typeof t=="string"){if(ad.test(t))return(0,ot.IntNumber)(Number(t));if(Kn(t))return(0,ot.IntNumber)(new qt.default(Xn(t,!1),16).toNumber())}throw Cr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}X.ensureIntNumber=hd;function Im(t){if(t instanceof RegExp)return(0,ot.RegExpString)(t.toString());throw Cr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}X.ensureRegExpString=Im;function Rm(t){if(t!==null&&(qt.default.isBN(t)||dd(t)))return new qt.default(t.toString(10),10);if(typeof t=="number")return new qt.default(hd(t));if(typeof t=="string"){if(ad.test(t))return new qt.default(t,10);if(Kn(t))return new qt.default(Xn(t,!1),16)}throw Cr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}X.ensureBN=Rm;function Am(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Cr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}X.ensureParsedJSONObject=Am;function dd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}X.isBigNumber=dd;function Om(t,e){return Array.from({length:e-t},(r,n)=>t+n)}X.range=Om;function Tm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}X.getFavicon=Tm;function Mm(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,ym.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}X.createQrUrl=Mm;function km(){try{return window.frameElement!==null}catch{return!1}}X.isInIFrame=km;Object.defineProperty(dn,"__esModule",{value:!0});dn.Session=void 0;const Pl=Eg,jl=X,Dl="session:id",$l="session:secret",Bl="session:linked";class Vc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,jl.randomBytesHex)(16),this._secret=n||(0,jl.randomBytesHex)(32),this._key=new Pl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Dl),n=e.getItem(Bl),i=e.getItem($l);return r&&i?new Vc(e,r,i,n==="1"):null}static hash(e){return new Pl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Dl,this._id),this._storage.setItem($l,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Bl,this._linked?"1":"0")}}dn.Session=Vc;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.WalletSDKRelayAbstract=gt.APP_VERSION_KEY=gt.LOCAL_STORAGE_ADDRESSES_KEY=gt.WALLET_USER_NAME_KEY=void 0;const Fl=Qn;gt.WALLET_USER_NAME_KEY="walletUsername";gt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";gt.APP_VERSION_KEY="AppVersion";class Nm{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Fl.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Fl.serializeError)(s,e.method);return i})}}gt.WalletSDKRelayAbstract=Nm;const Lm=xy,Pm=Yi;function pd(t){return ne.Buffer.allocUnsafe(t).fill(0)}function bd(t,e,r){const n=pd(e);return t=bs(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function jm(t,e){return bd(t,e,!0)}function bs(t){if(!ne.Buffer.isBuffer(t))if(Array.isArray(t))t=ne.Buffer.from(t);else if(typeof t=="string")gd(t)?t=ne.Buffer.from(Bm(yd(t)),"hex"):t=ne.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=ne.Buffer.allocUnsafe(0);else if(Pm.isBN(t))t=t.toArrayLike(ne.Buffer);else if(t.toArray)t=ne.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Dm(t){return t=bs(t),"0x"+t.toString("hex")}function $m(t,e){return t=bs(t),e||(e=256),Lm("keccak"+e).update(t).digest()}function Bm(t){return t.length%2?"0"+t:t}function gd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function yd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var vd={zeros:pd,setLength:bd,setLengthRight:jm,isHexString:gd,stripHexPrefix:yd,toBuffer:bs,bufferToHex:Dm,keccak:$m};const vr=vd,dr=Yi;function md(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function zr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Wl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function wd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function ur(t){var e=typeof t;if(e==="string")return vr.isHexString(t)?new dr(vr.stripHexPrefix(t),16):new dr(t,10);if(e==="number")return new dr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Ct(t,e){var r,n,i,s;if(t==="address")return Ct("uint160",ur(e));if(t==="bool")return Ct("uint8",e?1:0);if(t==="string")return Ct("bytes",new ne.Buffer(e,"utf8"));if(Wm(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=wd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Ct(t,e[s]));if(r==="dynamic"){var o=Ct("uint256",e.length);i.unshift(o)}return ne.Buffer.concat(i)}else{if(t==="bytes")return e=new ne.Buffer(e),i=ne.Buffer.concat([Ct("uint256",e.length),e]),e.length%32!==0&&(i=ne.Buffer.concat([i,vr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=zr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return vr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=zr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ur(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ne.Buffer,"be",32)}else if(t.startsWith("int")){if(r=zr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ur(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ne.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Wl(t),n=ur(e),n<0)throw new Error("Supplied ufixed is negative");return Ct("uint256",n.mul(new dr(2).pow(new dr(r[1]))))}else if(t.startsWith("fixed"))return r=Wl(t),Ct("int256",ur(e).mul(new dr(2).pow(new dr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Fm(t){return t==="string"||t==="bytes"||wd(t)==="dynamic"}function Wm(t){return t.lastIndexOf("]")===t.length-1}function Um(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=md(t[s]),a=e[s],c=Ct(o,a);Fm(o)?(r.push(Ct("uint256",i)),n.push(c),i+=c.length):r.push(c)}return ne.Buffer.concat(r.concat(n))}function _d(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=md(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new ne.Buffer(a,"utf8"));else if(o==="bool")i.push(new ne.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(vr.setLength(a,20));else if(o.startsWith("bytes")){if(r=zr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(vr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=zr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ur(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(ne.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=zr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ur(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(ne.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return ne.Buffer.concat(i)}function Vm(t,e){return vr.keccak(_d(t,e))}var Hm={rawEncode:Um,solidityPack:_d,soliditySHA3:Vm};const dt=vd,Pn=Hm,Sd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ja={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":dt.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",dt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=ne.Buffer.from(u,"utf8")),["bytes32",dt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),f=u.map(h=>o(a,l,h));return["bytes32",dt.keccak(Pn.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=dt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=ne.Buffer.from(a,"utf8")),a=dt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=dt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Pn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return dt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return dt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Sd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[ne.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),dt.keccak(ne.Buffer.concat(n))}};var zm={TYPED_MESSAGE_SCHEMA:Sd,TypedDataUtils:ja,hashForSignTypedDataLegacy:function(t){return qm(t.data)},hashForSignTypedData_v3:function(t){return ja.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ja.hash(t.data)}};function qm(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?dt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Pn.soliditySHA3(["bytes32","bytes32"],[Pn.soliditySHA3(new Array(t.length).fill("string"),i),Pn.soliditySHA3(n,r)])}var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.filterFromParam=Xr.FilterPolyfill=void 0;const $r=Yn,Ve=X,Gm=5*60*1e3,lr={jsonrpc:"2.0",id:0};class Jm{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,$r.IntNumber)(1),this.provider=e}async newFilter(e){const r=Ed(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ve.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ve.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ve.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(_i())}async getFilterLogs(e){const r=(0,Ve.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getLogs",params:[Ul(n)]})):_i()}makeFilterId(){return(0,$r.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return _i();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Si();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getLogs",params:[Ul(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ve.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,$r.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return _i();const n=await this.getCurrentBlockHeight();if(r>n)return Si();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ve.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,$r.IntNumber)(o))))).filter(o=>!!o),s=(0,$r.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},lr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Si())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Gm);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_blockNumber",params:[]}));return(0,Ve.intNumberFromHexString)((0,Ve.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getBlockByNumber",params:[(0,Ve.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ve.ensureHexString)(r.result.hash):null}}Xr.FilterPolyfill=Jm;function Ed(t){return{fromBlock:Vl(t.fromBlock),toBlock:Vl(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Xr.filterFromParam=Ed;function Ul(t){const e={fromBlock:Hl(t.fromBlock),toBlock:Hl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Vl(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,$r.IntNumber)(0);if((0,Ve.isHexString)(t))return(0,Ve.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Hl(t){return t==="latest"?t:(0,Ve.hexStringFromIntNumber)(t)}function _i(){return Object.assign(Object.assign({},lr),{error:{code:-32e3,message:"filter not found"}})}function Si(){return Object.assign(Object.assign({},lr),{result:[]})}var Cd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Cd);var gs={},xd={},ys={},Hc=Qm;function Qm(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const zl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Zm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):zl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?zl(s,e):s}return n},ei={},Ym=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});ei.BaseBlockTracker=void 0;const Km=Ym(Er),Xm=1e3,e1=(t,e)=>t+e,ql=["sync","latest"];class t1 extends Km.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Xm,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){ql.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ql.map(e=>this.listenerCount(e)).reduce(e1)}_newPotentialLatest(e){const r=this._currentBlock;r&&Gl(e)<=Gl(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ei.BaseBlockTracker=t1;function Gl(t){return Number.parseInt(t,16)}var Id={},Rd={},$e={};class Ad extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function r1(t){return at(t)&&typeof t[Symbol.iterator]=="function"}function at(t){return typeof t=="object"&&t!=null}function Jl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Oe(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function n1(t){const{done:e,value:r}=t.next();return e?void 0:r}function i1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Oe(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*pc(t,e,r,n){r1(t)||(t=[t]);for(const i of t){const s=i1(i,e,r,n);s&&(yield s)}}function*zc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&at(e.schema)&&at(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of e.entries(t,a)){const h=zc(l,f,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const d of h)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(l=d[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):at(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class Ie{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return pc(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return pc(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return Od(e,this,r)}create(e,r){return Td(e,this,r)}is(e){return qc(e,this)}mask(e,r){return Md(e,this,r)}validate(e,r={}){return bn(e,this,r)}}function Od(t,e,r){const n=bn(t,e,{message:r});if(n[0])throw n[0]}function Td(t,e,r){const n=bn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Md(t,e,r){const n=bn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function qc(t,e){return!bn(t,e)[0]}function bn(t,e,r={}){const n=zc(t,e,r),i=n1(n);return i[0]?[new Ad(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function s1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Jc(n):ti(n)}function Qe(t,e){return new Ie({type:t,schema:null,validator:e})}function o1(t,e){return new Ie({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function a1(t){return new Ie({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function c1(t){let e;return new Ie({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function u1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Jc(n);default:return ti(n)}}function l1(t){const e=t instanceof Ie?{...t.schema}:{...t};for(const r in e)e[r]=kd(e[r]);return ti(e)}function f1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return ti(n)}function h1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Qe(t,e)}function d1(){return Qe("any",()=>!0)}function p1(t){return new Ie({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Oe(e)}`}})}function b1(){return Qe("bigint",t=>typeof t=="bigint")}function g1(){return Qe("boolean",t=>typeof t=="boolean")}function y1(){return Qe("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${Oe(t)}`)}function v1(t){const e={},r=t.map(n=>Oe(n)).join();for(const n of t)e[n]=n;return new Ie({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${Oe(n)}`}})}function m1(){return Qe("func",t=>typeof t=="function"||`Expected a function, but received: ${Oe(t)}`)}function w1(t){return Qe("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Oe(e)}`)}function _1(){return Qe("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Oe(t)}`)}function S1(t){return new Ie({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function E1(t){const e=Oe(t),r=typeof t;return new Ie({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Oe(n)}`}})}function C1(t,e){return new Ie({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Oe(r)}`}})}function Gc(){return Qe("never",()=>!1)}function x1(t){return new Ie({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function I1(){return Qe("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Oe(t)}`)}function ti(t){const e=t?Object.keys(t):[],r=Gc();return new Ie({type:"object",schema:t||null,*entries(n){if(t&&at(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return at(n)||`Expected an object, but received: ${Oe(n)}`},coercer(n){return at(n)?{...n}:n}})}function kd(t){return new Ie({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function R1(t,e){return new Ie({type:"record",schema:null,*entries(r){if(at(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return at(r)||`Expected an object, but received: ${Oe(r)}`}})}function A1(){return Qe("regexp",t=>t instanceof RegExp)}function O1(t){return new Ie({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${Oe(e)}`}})}function Nd(){return Qe("string",t=>typeof t=="string"||`Expected a string, but received: ${Oe(t)}`)}function T1(t){const e=Gc();return new Ie({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Oe(r)}`}})}function Jc(t){const e=Object.keys(t);return new Ie({type:"type",schema:t,*entries(r){if(at(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return at(r)||`Expected an object, but received: ${Oe(r)}`},coercer(r){return at(r)?{...r}:r}})}function M1(t){const e=t.map(r=>r.type).join(" | ");return new Ie({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=zc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Oe(r)}`,...i]}})}function Ld(){return Qe("unknown",()=>!0)}function Qc(t,e,r){return new Ie({...t,coercer:(n,i)=>qc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function k1(t,e,r={}){return Qc(t,Ld(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Jl(n)&&Jl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function N1(t){return Qc(t,Nd(),e=>e.trim())}function L1(t){return xr(t,"empty",e=>{const r=Pd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Pd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function P1(t,e,r={}){const{exclusive:n}=r;return xr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function j1(t,e,r={}){const{exclusive:n}=r;return xr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function D1(t){return xr(t,"nonempty",e=>Pd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function $1(t,e){return xr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function B1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return xr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function xr(t,e,r){return new Ie({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=pc(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const F1=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ie,StructError:Ad,any:d1,array:p1,assert:Od,assign:s1,bigint:b1,boolean:g1,coerce:Qc,create:Td,date:y1,defaulted:k1,define:Qe,deprecated:o1,dynamic:a1,empty:L1,enums:v1,func:m1,instance:w1,integer:_1,intersection:S1,is:qc,lazy:c1,literal:E1,map:C1,mask:Md,max:P1,min:j1,never:Gc,nonempty:D1,nullable:x1,number:I1,object:ti,omit:u1,optional:kd,partial:l1,pattern:$1,pick:f1,record:R1,refine:xr,regexp:A1,set:O1,size:B1,string:Nd,struct:h1,trimmed:N1,tuple:T1,type:Jc,union:M1,unknown:Ld,validate:bn},Symbol.toStringTag,{value:"Module"})),Ir=_r(F1);Object.defineProperty($e,"__esModule",{value:!0});$e.assertExhaustive=$e.assertStruct=$e.assert=$e.AssertionError=void 0;const W1=Ir;function U1(t){return typeof t=="object"&&t!==null&&"message"in t}function V1(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function H1(t){const e=U1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function jd(t,e){return V1(t)?new t({message:e}):t({message:e})}class Zc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}$e.AssertionError=Zc;function z1(t,e="Assertion failed.",r=Zc){if(!t)throw e instanceof Error?e:jd(r,e)}$e.assert=z1;function q1(t,e,r="Assertion failed",n=Zc){try{(0,W1.assert)(t,e)}catch(i){throw jd(n,`${r}: ${H1(i)}.`)}}$e.assertStruct=q1;function G1(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}$e.assertExhaustive=G1;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.base64=void 0;const J1=Ir,Q1=$e,Z1=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Q1.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,J1.pattern)(t,a)};ri.base64=Z1;var he={},ni={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Ir,r=$e;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(ni);Object.defineProperty(he,"__esModule",{value:!0});he.createDataView=he.concatBytes=he.valueToBytes=he.stringToBytes=he.numberToBytes=he.signedBigIntToBytes=he.bigIntToBytes=he.hexToBytes=he.bytesToString=he.bytesToNumber=he.bytesToSignedBigInt=he.bytesToBigInt=he.bytesToHex=he.assertIsBytes=he.isBytes=void 0;const Ye=$e,bc=ni,Ql=48,Zl=58,Yl=87;function Y1(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const K1=Y1();function Yc(t){return t instanceof Uint8Array}he.isBytes=Yc;function gn(t){(0,Ye.assert)(Yc(t),"Value must be a Uint8Array.")}he.assertIsBytes=gn;function Dd(t){if(gn(t),t.length===0)return"0x";const e=K1(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,bc.add0x)(r.join(""))}he.bytesToHex=Dd;function $d(t){gn(t);const e=Dd(t);return BigInt(e)}he.bytesToBigInt=$d;function X1(t){gn(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}he.bytesToSignedBigInt=X1;function ew(t){gn(t);const e=$d(t);return(0,Ye.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}he.bytesToNumber=ew;function tw(t){return gn(t),new TextDecoder().decode(t)}he.bytesToString=tw;function vs(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,bc.assertIsHexString)(t);const r=(0,bc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Zl?Ql:Yl),u=a-(a<Zl?Ql:Yl);i[s]=c*16+u}return i}he.hexToBytes=vs;function Bd(t){(0,Ye.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ye.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return vs(e)}he.bigIntToBytes=Bd;function rw(t,e){(0,Ye.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function nw(t,e){(0,Ye.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ye.assert)(typeof e=="number","Byte length must be a number."),(0,Ye.assert)(e>0,"Byte length must be greater than 0."),(0,Ye.assert)(rw(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}he.signedBigIntToBytes=nw;function Fd(t){(0,Ye.assert)(typeof t=="number","Value must be a number."),(0,Ye.assert)(t>=0,"Value must be a non-negative number."),(0,Ye.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return vs(e)}he.numberToBytes=Fd;function Wd(t){return(0,Ye.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}he.stringToBytes=Wd;function Ud(t){if(typeof t=="bigint")return Bd(t);if(typeof t=="number")return Fd(t);if(typeof t=="string")return t.startsWith("0x")?vs(t):Wd(t);if(Yc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}he.valueToBytes=Ud;function iw(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Ud(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}he.concatBytes=iw;function sw(t){if(typeof ne.Buffer<"u"&&t instanceof ne.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}he.createDataView=sw;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.ChecksumStruct=void 0;const Kl=Ir,ow=ri;ms.ChecksumStruct=(0,Kl.size)((0,ow.base64)((0,Kl.string)(),{paddingRequired:!0}),44,44);var At={};Object.defineProperty(At,"__esModule",{value:!0});At.createHex=At.createBytes=At.createBigInt=At.createNumber=void 0;const _e=Ir,aw=$e,Vd=he,ws=ni,Hd=(0,_e.union)([(0,_e.number)(),(0,_e.bigint)(),(0,_e.string)(),ws.StrictHexStruct]),cw=(0,_e.coerce)((0,_e.number)(),Hd,Number),uw=(0,_e.coerce)((0,_e.bigint)(),Hd,BigInt);(0,_e.union)([ws.StrictHexStruct,(0,_e.instance)(Uint8Array)]);const lw=(0,_e.coerce)((0,_e.instance)(Uint8Array),(0,_e.union)([ws.StrictHexStruct]),Vd.hexToBytes),fw=(0,_e.coerce)(ws.StrictHexStruct,(0,_e.instance)(Uint8Array),Vd.bytesToHex);function hw(t){try{const e=(0,_e.create)(t,cw);return(0,aw.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof _e.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}At.createNumber=hw;function dw(t){try{return(0,_e.create)(t,uw)}catch(e){throw e instanceof _e.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}At.createBigInt=dw;function pw(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,_e.create)(t,lw)}catch(e){throw e instanceof _e.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}At.createBytes=pw;function bw(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,_e.create)(t,fw)}catch(e){throw e instanceof _e.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}At.createHex=bw;var en={},zd=Z&&Z.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},He=Z&&Z.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ft,_t;Object.defineProperty(en,"__esModule",{value:!0});en.FrozenSet=en.FrozenMap=void 0;class Kc{constructor(e){ft.set(this,void 0),zd(this,ft,new Map(e),"f"),Object.freeze(this)}get size(){return He(this,ft,"f").size}[(ft=new WeakMap,Symbol.iterator)](){return He(this,ft,"f")[Symbol.iterator]()}entries(){return He(this,ft,"f").entries()}forEach(e,r){return He(this,ft,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return He(this,ft,"f").get(e)}has(e){return He(this,ft,"f").has(e)}keys(){return He(this,ft,"f").keys()}values(){return He(this,ft,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}en.FrozenMap=Kc;class Xc{constructor(e){_t.set(this,void 0),zd(this,_t,new Set(e),"f"),Object.freeze(this)}get size(){return He(this,_t,"f").size}[(_t=new WeakMap,Symbol.iterator)](){return He(this,_t,"f")[Symbol.iterator]()}entries(){return He(this,_t,"f").entries()}forEach(e,r){return He(this,_t,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return He(this,_t,"f").has(e)}keys(){return He(this,_t,"f").keys()}values(){return He(this,_t,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}en.FrozenSet=Xc;Object.freeze(Kc);Object.freeze(Kc.prototype);Object.freeze(Xc);Object.freeze(Xc.prototype);var qd={},eu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((h,d)=>o(d)?h+1:h+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(eu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Ir,r=$e,n=eu;t.JsonStruct=(0,e.define)("Json",T=>{const[F]=k(T,!0);return F?!0:"Expected a valid JSON-serializable value"});function i(T){return(0,e.is)(T,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(T){return(0,e.is)(T,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(T,F){(0,r.assertStruct)(T,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",F)}t.assertIsJsonRpcNotification=o;function a(T){return(0,e.is)(T,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(T,F){(0,r.assertStruct)(T,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",F)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(T){return(0,e.is)(T,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(T,F){(0,r.assertStruct)(T,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",F)}t.assertIsPendingJsonRpcResponse=l;function f(T){return(0,e.is)(T,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function h(T,F){(0,r.assertStruct)(T,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",F)}t.assertIsJsonRpcResponse=h;function d(T){return(0,e.is)(T,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function E(T,F){(0,r.assertStruct)(T,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",F)}t.assertIsJsonRpcSuccess=E;function A(T){return(0,e.is)(T,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=A;function R(T,F){(0,r.assertStruct)(T,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",F)}t.assertIsJsonRpcFailure=R;function g(T){return(0,e.is)(T,t.JsonRpcErrorStruct)}t.isJsonRpcError=g;function m(T,F){(0,r.assertStruct)(T,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",F)}t.assertIsJsonRpcError=m;function I(T){const{permitEmptyString:F,permitFractions:J,permitNull:G}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},T);return Y=>!!(typeof Y=="number"&&(J||Number.isInteger(Y))||typeof Y=="string"&&(F||Y.length>0)||G&&Y===null)}t.getJsonRpcIdValidator=I;function k(T,F=!1){const J=new Set;function G(U,Y){if(U===void 0)return[!1,0];if(U===null)return[!0,Y?0:n.JsonSize.Null];const ie=typeof U;try{if(ie==="function")return[!1,0];if(ie==="string"||U instanceof String)return[!0,Y?0:(0,n.calculateStringSize)(U)+n.JsonSize.Quote*2];if(ie==="boolean"||U instanceof Boolean)return Y?[!0,0]:[!0,U==!0?n.JsonSize.True:n.JsonSize.False];if(ie==="number"||U instanceof Number)return Y?[!0,0]:[!0,(0,n.calculateNumberSize)(U)];if(U instanceof Date)return Y?[!0,0]:[!0,isNaN(U.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(U)&&!Array.isArray(U))return[!1,0];if(J.has(U))return[!1,0];J.add(U);try{return[!0,Object.entries(U).reduce((K,[$,N],V,H)=>{let[_,S]=G(N,Y);if(!_)throw new Error("JSON validation did not pass. Validation process stopped.");if(J.delete(U),Y)return 0;const x=Array.isArray(U)?0:$.length+n.JsonSize.Comma+n.JsonSize.Colon*2,L=V<H.length-1?n.JsonSize.Comma:0;return K+x+S+L},Y?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return G(T,F)}t.validateJsonAndGetSize=k})(qd);var tn={},gw=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.createModuleLogger=tn.createProjectLogger=void 0;const yw=gw(Rg),vw=(0,yw.default)("metamask");function mw(t){return vw.extend(t)}tn.createProjectLogger=mw;function ww(t,e){return t.extend(e)}tn.createModuleLogger=ww;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.hexToBigInt=Ot.hexToNumber=Ot.bigIntToHex=Ot.numberToHex=void 0;const qr=$e,Bn=ni,_w=t=>((0,qr.assert)(typeof t=="number","Value must be a number."),(0,qr.assert)(t>=0,"Value must be a non-negative number."),(0,qr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Bn.add0x)(t.toString(16)));Ot.numberToHex=_w;const Sw=t=>((0,qr.assert)(typeof t=="bigint","Value must be a bigint."),(0,qr.assert)(t>=0,"Value must be a non-negative bigint."),(0,Bn.add0x)(t.toString(16)));Ot.bigIntToHex=Sw;const Ew=t=>{(0,Bn.assertIsHexString)(t);const e=parseInt(t,16);return(0,qr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Ot.hexToNumber=Ew;const Cw=t=>((0,Bn.assertIsHexString)(t),BigInt((0,Bn.add0x)(t)));Ot.hexToBigInt=Cw;var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});var Jd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Jd);var Qd={};const Xl=Ge,xw=(t,e,r=!1)=>{if(t instanceof Xl)return t;try{return new Xl(t,e)}catch(n){if(!r)return null;throw n}};var yn=xw;const Iw=yn,Rw=(t,e)=>{const r=Iw(t,e);return r?r.version:null};var Aw=Rw;const Ow=yn,Tw=(t,e)=>{const r=Ow(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Mw=Tw;const ef=Ge,kw=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ef(t instanceof ef?t.version:t,r).inc(e,n,i).version}catch{return null}};var Nw=kw;const tf=yn,Lw=(t,e)=>{const r=tf(t,null,!0),n=tf(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var Pw=Lw;const jw=Ge,Dw=(t,e)=>new jw(t,e).major;var $w=Dw;const Bw=Ge,Fw=(t,e)=>new Bw(t,e).minor;var Ww=Fw;const Uw=Ge,Vw=(t,e)=>new Uw(t,e).patch;var Hw=Vw;const zw=yn,qw=(t,e)=>{const r=zw(t,e);return r&&r.prerelease.length?r.prerelease:null};var Gw=qw;const Jw=yt,Qw=(t,e,r)=>Jw(e,t,r);var Zw=Qw;const Yw=yt,Kw=(t,e)=>Yw(t,e,!0);var Xw=Kw;const rf=Ge,e_=(t,e,r)=>{const n=new rf(t,r),i=new rf(e,r);return n.compare(i)||n.compareBuild(i)};var tu=e_;const t_=tu,r_=(t,e)=>t.sort((r,n)=>t_(r,n,e));var n_=r_;const i_=tu,s_=(t,e)=>t.sort((r,n)=>i_(n,r,e));var o_=s_;const a_=Ge,c_=yn,{safeRe:Ei,t:Ci}=Jn,u_=(t,e)=>{if(t instanceof a_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ei[Ci.COERCE]);else{let n;for(;(n=Ei[Ci.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ei[Ci.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ei[Ci.COERCERTL].lastIndex=-1}return r===null?null:c_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var l_=u_;const f_=vt(),h_=(t,e)=>new f_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var d_=h_;const p_=Ge,b_=vt(),g_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new b_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new p_(n,r))}),n};var y_=g_;const v_=Ge,m_=vt(),w_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new m_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new v_(n,r))}),n};var __=w_;const Da=Ge,S_=vt(),nf=as,E_=(t,e)=>{t=new S_(t,e);let r=new Da("0.0.0");if(t.test(r)||(r=new Da("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Da(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||nf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||nf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var C_=E_;const x_=vt(),I_=(t,e)=>{try{return new x_(t,e).range||"*"}catch{return null}};var R_=I_;const A_=Ge,Zd=cs(),{ANY:O_}=Zd,T_=vt(),M_=us,sf=as,of=Tc,k_=Mc,N_=Oc,L_=(t,e,r,n)=>{t=new A_(t,n),e=new T_(e,n);let i,s,o,a,c;switch(r){case">":i=sf,s=k_,o=of,a=">",c=">=";break;case"<":i=of,s=N_,o=sf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M_(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let f=null,h=null;if(l.forEach(d=>{d.semver===O_&&(d=new Zd(">=0.0.0")),f=f||d,h=h||d,i(d.semver,f.semver,n)?f=d:o(d.semver,h.semver,n)&&(h=d)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};var ru=L_;const P_=ru,j_=(t,e,r)=>P_(t,e,">",r);var D_=j_;const $_=ru,B_=(t,e,r)=>$_(t,e,"<",r);var F_=B_;const af=vt(),W_=(t,e,r)=>(t=new af(t,r),e=new af(e,r),t.intersects(e,r));var U_=W_;const V_=us,H_=yt;var z_=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,f)=>H_(l,f,r));for(const l of o)V_(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const cf=vt(),nu=cs(),{ANY:$a}=nu,Rn=us,iu=yt,q_=(t,e,r={})=>{if(t===e)return!0;t=new cf(t,r),e=new cf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=J_(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},G_=[new nu(">=0.0.0-0")],uf=[new nu(">=0.0.0")],J_=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===$a){if(e.length===1&&e[0].semver===$a)return!0;r.includePrerelease?t=G_:t=uf}if(e.length===1&&e[0].semver===$a){if(r.includePrerelease)return!0;e=uf}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=lf(i,d,r):d.operator==="<"||d.operator==="<="?s=ff(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=iu(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Rn(d,String(i),r)||s&&!Rn(d,String(s),r))return null;for(const E of e)if(!Rn(d,String(E),r))return!1;return!0}let a,c,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of e){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(a=lf(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Rn(i.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(c=ff(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Rn(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||h||f)},lf=(t,e,r)=>{if(!t)return e;const n=iu(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},ff=(t,e,r)=>{if(!t)return e;const n=iu(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Q_=q_;const Ba=Jn,hf=ss,Z_=Ge,df=jh,Y_=yn,K_=Aw,X_=Mw,eS=Nw,tS=Pw,rS=$w,nS=Ww,iS=Hw,sS=Gw,oS=yt,aS=Zw,cS=Xw,uS=tu,lS=n_,fS=o_,hS=as,dS=Tc,pS=Dh,bS=$h,gS=Oc,yS=Mc,vS=Bh,mS=l_,wS=cs(),_S=vt(),SS=us,ES=d_,CS=y_,xS=__,IS=C_,RS=R_,AS=ru,OS=D_,TS=F_,MS=U_,kS=z_,NS=Q_;var LS={parse:Y_,valid:K_,clean:X_,inc:eS,diff:tS,major:rS,minor:nS,patch:iS,prerelease:sS,compare:oS,rcompare:aS,compareLoose:cS,compareBuild:uS,sort:lS,rsort:fS,gt:hS,lt:dS,eq:pS,neq:bS,gte:gS,lte:yS,cmp:vS,coerce:mS,Comparator:wS,Range:_S,satisfies:SS,toComparators:ES,maxSatisfying:CS,minSatisfying:xS,minVersion:IS,validRange:RS,outside:AS,gtr:OS,ltr:TS,intersects:MS,simplifyRange:kS,subset:NS,SemVer:Z_,re:Ba.re,src:Ba.src,tokens:Ba.t,SEMVER_SPEC_VERSION:hf.SEMVER_SPEC_VERSION,RELEASE_TYPES:hf.RELEASE_TYPES,compareIdentifiers:df.compareIdentifiers,rcompareIdentifiers:df.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=LS,r=Ir,n=$e;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,r.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,r.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,n.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,n.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,h){return(0,e.gt)(f,h)}t.gtVersion=c;function u(f,h){return(0,e.gtr)(f,h)}t.gtRange=u;function l(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=l})(Qd);(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($e,t),r(ri,t),r(he,t),r(ms,t),r(At,t),r(en,t),r(ni,t),r(qd,t),r(tn,t),r(eu,t),r(Ot,t),r(Gd,t),r(Jd,t),r(Qd,t)})(Rd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Rd;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Id);var Yd=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.PollingBlockTracker=void 0;const PS=Yd(Hc),jS=Yd(Zm),DS=ei,pf=Id,bf=(0,pf.createModuleLogger)(pf.projectLogger,"polling-block-tracker"),$S=(0,PS.default)(),BS=1e3;class FS extends DS.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*BS,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=gf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=gf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:$S(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),bf("Making request",e);const r=await(0,jS.default)(n=>this._provider.sendAsync(e,n))();if(bf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}ys.PollingBlockTracker=FS;function gf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var _s={},WS=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_s,"__esModule",{value:!0});_s.SubscribeBlockTracker=void 0;const US=WS(Hc),VS=ei,HS=(0,US.default)();class zS extends VS.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:HS(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}_s.SubscribeBlockTracker=zS;var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ys,t),r(_s,t),r(Kd,t)})(xd);var su={},Ss={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.getUniqueId=void 0;const Xd=4294967295;let Fa=Math.floor(Math.random()*Xd);function qS(){return Fa=(Fa+1)%Xd,Fa}ii.getUniqueId=qS;Object.defineProperty(Ss,"__esModule",{value:!0});Ss.createIdRemapMiddleware=void 0;const GS=ii;function JS(){return(t,e,r,n)=>{const i=t.id,s=GS.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ss.createIdRemapMiddleware=JS;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.createAsyncMiddleware=void 0;function QS(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Es.createAsyncMiddleware=QS;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.createScaffoldMiddleware=void 0;function ZS(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Cs.createScaffoldMiddleware=ZS;var si={},YS=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(si,"__esModule",{value:!0});si.JsonRpcEngine=void 0;const KS=YS(Er),tt=Nc;class Pt extends KS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Pt._runAllMiddleware(e,r,this._middleware);return o?(await Pt._runReturnHandlers(a),i(s)):n(async c=>{try{await Pt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=tt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Pt._runAllMiddleware(e,r,this._middleware);if(Pt._checkForCompletion(e,r,i),await Pt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Pt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=tt.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Wa(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Wa(e)}`,{request:e});if(!n)throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Wa(e)}`,{request:e})}}si.JsonRpcEngine=Pt;function Wa(t){return JSON.stringify(t,null,2)}var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.mergeMiddleware=void 0;const XS=si;function e2(t){const e=new XS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}xs.mergeMiddleware=e2;(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ss,t),r(Es,t),r(Cs,t),r(ii,t),r(si,t),r(xs,t)})(su);var ep={},ou={},tp={exports:{}};(function(t){var e,r,n,i,s,o,a,c,u,l,f,h,d,E,A,R,g,m,I,k,T,F,J,G,U,Y,ie,K,$;(function(N){var V=typeof Z=="object"?Z:typeof self=="object"?self:typeof this=="object"?this:{};N(H(V,H(t.exports)));function H(_,S){return _!==V&&(typeof Object.create=="function"?Object.defineProperty(_,"__esModule",{value:!0}):_.__esModule=!0),function(x,L){return _[x]=S?S(x,L):L}}})(function(N){var V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(_[x]=S[x])};e=function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");V(_,S);function x(){this.constructor=_}_.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)},r=Object.assign||function(_){for(var S,x=1,L=arguments.length;x<L;x++){S=arguments[x];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(_[P]=S[P])}return _},n=function(_,S){var x={};for(var L in _)Object.prototype.hasOwnProperty.call(_,L)&&S.indexOf(L)<0&&(x[L]=_[L]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,L=Object.getOwnPropertySymbols(_);P<L.length;P++)S.indexOf(L[P])<0&&Object.prototype.propertyIsEnumerable.call(_,L[P])&&(x[L[P]]=_[L[P]]);return x},i=function(_,S,x,L){var P=arguments.length,y=P<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,x):L,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(_,S,x,L);else for(var O=_.length-1;O>=0;O--)(C=_[O])&&(y=(P<3?C(y):P>3?C(S,x,y):C(S,x))||y);return P>3&&y&&Object.defineProperty(S,x,y),y},s=function(_,S){return function(x,L){S(x,L,_)}},o=function(_,S,x,L,P,y){function C(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var O=L.kind,Q=O==="getter"?"get":O==="setter"?"set":"value",v=!S&&_?L.static?_:_.prototype:null,w=S||(v?Object.getOwnPropertyDescriptor(v,L.name):{}),M,B=!1,q=x.length-1;q>=0;q--){var p={};for(var b in L)p[b]=b==="access"?{}:L[b];for(var b in L.access)p.access[b]=L.access[b];p.addInitializer=function(z){if(B)throw new TypeError("Cannot add initializers after decoration has completed");y.push(C(z||null))};var j=(0,x[q])(O==="accessor"?{get:w.get,set:w.set}:w[Q],p);if(O==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(M=C(j.get))&&(w.get=M),(M=C(j.set))&&(w.set=M),(M=C(j.init))&&P.unshift(M)}else(M=C(j))&&(O==="field"?P.unshift(M):w[Q]=M)}v&&Object.defineProperty(v,L.name,w),B=!0},a=function(_,S,x){for(var L=arguments.length>2,P=0;P<S.length;P++)x=L?S[P].call(_,x):S[P].call(_);return L?x:void 0},c=function(_){return typeof _=="symbol"?_:"".concat(_)},u=function(_,S,x){return typeof S=="symbol"&&(S=S.description?"[".concat(S.description,"]"):""),Object.defineProperty(_,"name",{configurable:!0,value:x?"".concat(x," ",S):S})},l=function(_,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,S)},f=function(_,S,x,L){function P(y){return y instanceof x?y:new x(function(C){C(y)})}return new(x||(x=Promise))(function(y,C){function O(w){try{v(L.next(w))}catch(M){C(M)}}function Q(w){try{v(L.throw(w))}catch(M){C(M)}}function v(w){w.done?y(w.value):P(w.value).then(O,Q)}v((L=L.apply(_,S||[])).next())})},h=function(_,S){var x={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},L,P,y,C;return C={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function O(v){return function(w){return Q([v,w])}}function Q(v){if(L)throw new TypeError("Generator is already executing.");for(;C&&(C=0,v[0]&&(x=0)),x;)try{if(L=1,P&&(y=v[0]&2?P.return:v[0]?P.throw||((y=P.return)&&y.call(P),0):P.next)&&!(y=y.call(P,v[1])).done)return y;switch(P=0,y&&(v=[v[0]&2,y.value]),v[0]){case 0:case 1:y=v;break;case 4:return x.label++,{value:v[1],done:!1};case 5:x.label++,P=v[1],v=[0];continue;case 7:v=x.ops.pop(),x.trys.pop();continue;default:if(y=x.trys,!(y=y.length>0&&y[y.length-1])&&(v[0]===6||v[0]===2)){x=0;continue}if(v[0]===3&&(!y||v[1]>y[0]&&v[1]<y[3])){x.label=v[1];break}if(v[0]===6&&x.label<y[1]){x.label=y[1],y=v;break}if(y&&x.label<y[2]){x.label=y[2],x.ops.push(v);break}y[2]&&x.ops.pop(),x.trys.pop();continue}v=S.call(_,x)}catch(w){v=[6,w],P=0}finally{L=y=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},d=function(_,S){for(var x in _)x!=="default"&&!Object.prototype.hasOwnProperty.call(S,x)&&$(S,_,x)},$=Object.create?function(_,S,x,L){L===void 0&&(L=x);var P=Object.getOwnPropertyDescriptor(S,x);(!P||("get"in P?!S.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return S[x]}}),Object.defineProperty(_,L,P)}:function(_,S,x,L){L===void 0&&(L=x),_[L]=S[x]},E=function(_){var S=typeof Symbol=="function"&&Symbol.iterator,x=S&&_[S],L=0;if(x)return x.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&L>=_.length&&(_=void 0),{value:_&&_[L++],done:!_}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(_,S){var x=typeof Symbol=="function"&&_[Symbol.iterator];if(!x)return _;var L=x.call(_),P,y=[],C;try{for(;(S===void 0||S-- >0)&&!(P=L.next()).done;)y.push(P.value)}catch(O){C={error:O}}finally{try{P&&!P.done&&(x=L.return)&&x.call(L)}finally{if(C)throw C.error}}return y},R=function(){for(var _=[],S=0;S<arguments.length;S++)_=_.concat(A(arguments[S]));return _},g=function(){for(var _=0,S=0,x=arguments.length;S<x;S++)_+=arguments[S].length;for(var L=Array(_),P=0,S=0;S<x;S++)for(var y=arguments[S],C=0,O=y.length;C<O;C++,P++)L[P]=y[C];return L},m=function(_,S,x){if(x||arguments.length===2)for(var L=0,P=S.length,y;L<P;L++)(y||!(L in S))&&(y||(y=Array.prototype.slice.call(S,0,L)),y[L]=S[L]);return _.concat(y||Array.prototype.slice.call(S))},I=function(_){return this instanceof I?(this.v=_,this):new I(_)},k=function(_,S,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=x.apply(_,S||[]),P,y=[];return P={},C("next"),C("throw"),C("return"),P[Symbol.asyncIterator]=function(){return this},P;function C(B){L[B]&&(P[B]=function(q){return new Promise(function(p,b){y.push([B,q,p,b])>1||O(B,q)})})}function O(B,q){try{Q(L[B](q))}catch(p){M(y[0][3],p)}}function Q(B){B.value instanceof I?Promise.resolve(B.value.v).then(v,w):M(y[0][2],B)}function v(B){O("next",B)}function w(B){O("throw",B)}function M(B,q){B(q),y.shift(),y.length&&O(y[0][0],y[0][1])}},T=function(_){var S,x;return S={},L("next"),L("throw",function(P){throw P}),L("return"),S[Symbol.iterator]=function(){return this},S;function L(P,y){S[P]=_[P]?function(C){return(x=!x)?{value:I(_[P](C)),done:!1}:y?y(C):C}:y}},F=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=_[Symbol.asyncIterator],x;return S?S.call(_):(_=typeof E=="function"?E(_):_[Symbol.iterator](),x={},L("next"),L("throw"),L("return"),x[Symbol.asyncIterator]=function(){return this},x);function L(y){x[y]=_[y]&&function(C){return new Promise(function(O,Q){C=_[y](C),P(O,Q,C.done,C.value)})}}function P(y,C,O,Q){Promise.resolve(Q).then(function(v){y({value:v,done:O})},C)}},J=function(_,S){return Object.defineProperty?Object.defineProperty(_,"raw",{value:S}):_.raw=S,_};var H=Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S};G=function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var x in _)x!=="default"&&Object.prototype.hasOwnProperty.call(_,x)&&$(S,_,x);return H(S,_),S},U=function(_){return _&&_.__esModule?_:{default:_}},Y=function(_,S,x,L){if(x==="a"&&!L)throw new TypeError("Private accessor was defined without a getter");if(typeof S=="function"?_!==S||!L:!S.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?L:x==="a"?L.call(_):L?L.value:S.get(_)},ie=function(_,S,x,L,P){if(L==="m")throw new TypeError("Private method is not writable");if(L==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof S=="function"?_!==S||!P:!S.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return L==="a"?P.call(_,x):P?P.value=x:S.set(_,x),x},K=function(_,S){if(S===null||typeof S!="object"&&typeof S!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof _=="function"?S===_:_.has(S)},N("__extends",e),N("__assign",r),N("__rest",n),N("__decorate",i),N("__param",s),N("__esDecorate",o),N("__runInitializers",a),N("__propKey",c),N("__setFunctionName",u),N("__metadata",l),N("__awaiter",f),N("__generator",h),N("__exportStar",d),N("__createBinding",$),N("__values",E),N("__read",A),N("__spread",R),N("__spreadArrays",g),N("__spreadArray",m),N("__await",I),N("__asyncGenerator",k),N("__asyncDelegator",T),N("__asyncValues",F),N("__makeTemplateObject",J),N("__importStar",G),N("__importDefault",U),N("__classPrivateFieldGet",Y),N("__classPrivateFieldSet",ie),N("__classPrivateFieldIn",K)})})(tp);var au=tp.exports,Is={};Object.defineProperty(Is,"__esModule",{value:!0});var yf=au,t2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return yf.__awaiter(this,void 0,void 0,function(){var r,n,i;return yf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Is.default=t2;Object.defineProperty(ou,"__esModule",{value:!0});var vf=au,r2=Is,n2=function(){function t(){this._semaphore=new r2.default(1)}return t.prototype.acquire=function(){return vf.__awaiter(this,void 0,void 0,function(){var e,r;return vf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();ou.default=n2;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.withTimeout=void 0;var xi=au;function i2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return xi.__awaiter(n,void 0,void 0,function(){var o,a,c;return xi.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return xi.__awaiter(this,void 0,void 0,function(){var s,o;return xi.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Rs.withTimeout=i2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=ou;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Is;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Rs;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(ep);var s2=a2,o2=Object.prototype.hasOwnProperty;function a2(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)o2.call(r,n)&&(t[n]=r[n])}return t}const c2=s2,u2=Hc();var l2=re;function re(t){const e=this;e.currentProvider=t}re.prototype.getBalance=oi(2,"eth_getBalance");re.prototype.getCode=oi(2,"eth_getCode");re.prototype.getTransactionCount=oi(2,"eth_getTransactionCount");re.prototype.getStorageAt=oi(3,"eth_getStorageAt");re.prototype.call=oi(2,"eth_call");re.prototype.protocolVersion=ue("eth_protocolVersion");re.prototype.syncing=ue("eth_syncing");re.prototype.coinbase=ue("eth_coinbase");re.prototype.mining=ue("eth_mining");re.prototype.hashrate=ue("eth_hashrate");re.prototype.gasPrice=ue("eth_gasPrice");re.prototype.accounts=ue("eth_accounts");re.prototype.blockNumber=ue("eth_blockNumber");re.prototype.getBlockTransactionCountByHash=ue("eth_getBlockTransactionCountByHash");re.prototype.getBlockTransactionCountByNumber=ue("eth_getBlockTransactionCountByNumber");re.prototype.getUncleCountByBlockHash=ue("eth_getUncleCountByBlockHash");re.prototype.getUncleCountByBlockNumber=ue("eth_getUncleCountByBlockNumber");re.prototype.sign=ue("eth_sign");re.prototype.sendTransaction=ue("eth_sendTransaction");re.prototype.sendRawTransaction=ue("eth_sendRawTransaction");re.prototype.estimateGas=ue("eth_estimateGas");re.prototype.getBlockByHash=ue("eth_getBlockByHash");re.prototype.getBlockByNumber=ue("eth_getBlockByNumber");re.prototype.getTransactionByHash=ue("eth_getTransactionByHash");re.prototype.getTransactionByBlockHashAndIndex=ue("eth_getTransactionByBlockHashAndIndex");re.prototype.getTransactionByBlockNumberAndIndex=ue("eth_getTransactionByBlockNumberAndIndex");re.prototype.getTransactionReceipt=ue("eth_getTransactionReceipt");re.prototype.getUncleByBlockHashAndIndex=ue("eth_getUncleByBlockHashAndIndex");re.prototype.getUncleByBlockNumberAndIndex=ue("eth_getUncleByBlockNumberAndIndex");re.prototype.getCompilers=ue("eth_getCompilers");re.prototype.compileLLL=ue("eth_compileLLL");re.prototype.compileSolidity=ue("eth_compileSolidity");re.prototype.compileSerpent=ue("eth_compileSerpent");re.prototype.newFilter=ue("eth_newFilter");re.prototype.newBlockFilter=ue("eth_newBlockFilter");re.prototype.newPendingTransactionFilter=ue("eth_newPendingTransactionFilter");re.prototype.uninstallFilter=ue("eth_uninstallFilter");re.prototype.getFilterChanges=ue("eth_getFilterChanges");re.prototype.getFilterLogs=ue("eth_getFilterLogs");re.prototype.getLogs=ue("eth_getLogs");re.prototype.getWork=ue("eth_getWork");re.prototype.submitWork=ue("eth_submitWork");re.prototype.submitHashrate=ue("eth_submitHashrate");re.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(f2(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ue(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function oi(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function f2(t){return c2({id:u2(),jsonrpc:"2.0",params:[]},t)}const mf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},wf=new WeakMap;var h2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=wf.get(o);if(c||(c={},wf.set(o,c)),a in c)return c[a];const u=E=>typeof E=="string"||typeof a=="symbol"?a===E:E.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&f;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:mf(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=mf(c,e,s,o);return i.set(c,l),l}return c}});return s};const d2=Er.default;let p2=class extends d2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var cu=p2;const b2=cu;let g2=class extends b2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var y2=g2,ai={minBlockRef:v2,maxBlockRef:m2,sortBlockRefs:uu,bnToHex:w2,blockRefIsNumber:_2,hexToInt:zi,incrementHexInt:S2,intToHex:rp,unsafeRandomBytes:E2};function v2(...t){return uu(t)[0]}function m2(...t){const e=uu(t);return e[e.length-1]}function uu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:zi(e)-zi(r))}function w2(t){return"0x"+t.toString(16)}function _2(t){return t&&!["earliest","latest","pending"].includes(t)}function zi(t){return t==null?t:Number.parseInt(t,16)}function S2(t){if(t==null)return t;const e=zi(t);return rp(e+1)}function rp(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function E2(t){let e="0x";for(let r=0;r<t;r++)e+=_f(),e+=_f();return e}function _f(){return Math.floor(Math.random()*16).toString(16)}const C2=l2,x2=h2,I2=y2,{bnToHex:FR,hexToInt:Ii,incrementHexInt:R2,minBlockRef:A2,blockRefIsNumber:O2}=ai;let T2=class extends I2{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new C2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=A2(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=R2(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await x2(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ii(this.params.fromBlock)>=Ii(e.blockNumber)||O2(this.params.toBlock)&&Ii(this.params.toBlock)<=Ii(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var M2=T2,lu=k2;async function k2({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Sf(e),s=Sf(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(N2);return await Promise.all(o.map(c=>P2(t,"eth_getBlockByNumber",[c,!1])))}function Sf(t){return t==null?t:Number.parseInt(t,16)}function N2(t){return t==null?t:"0x"+t.toString(16)}function L2(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function P2(t,e,r){for(let n=0;n<3;n++)try{return await L2(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const j2=cu,D2=lu,{incrementHexInt:$2}=ai;let B2=class extends j2{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=$2(e),o=(await D2({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var F2=B2;const W2=cu,U2=lu,{incrementHexInt:V2}=ai;let H2=class extends W2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=V2(e),i=await U2({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var z2=H2;const q2=ep.Mutex,{createAsyncMiddleware:G2,createScaffoldMiddleware:J2}=su,Q2=M2,Z2=F2,Y2=z2,{intToHex:np,hexToInt:Ua}=ai;var K2=X2;function X2({blockTracker:t,provider:e}){let r=0,n={};const i=new q2,s=eE({mutex:i}),o=J2({eth_newFilter:s(Va(c)),eth_newBlockFilter:s(Va(u)),eth_newPendingTransactionFilter:s(Va(l)),eth_uninstallFilter:s(ji(d)),eth_getFilterChanges:s(ji(f)),eth_getFilterLogs:s(ji(h))}),a=async({oldBlock:m,newBlock:I})=>{if(n.length===0)return;const k=await i.acquire();try{await Promise.all(Lr(n).map(async T=>{try{await T.update({oldBlock:m,newBlock:I})}catch(F){console.error(F)}}))}catch(T){console.error(T)}k()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=d,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{R()},o;async function c(m){const I=new Q2({provider:e,params:m});return await E(I),I}async function u(){const m=new Z2({provider:e});return await E(m),m}async function l(){const m=new Y2({provider:e});return await E(m),m}async function f(m){const I=Ua(m),k=n[I];if(!k)throw new Error(`No filter for index "${I}"`);return k.getChangesAndClear()}async function h(m){const I=Ua(m),k=n[I];if(!k)throw new Error(`No filter for index "${I}"`);let T=[];return k.type==="log"&&(T=k.getAllResults()),T}async function d(m){const I=Ua(m),T=!!n[I];return T&&await A(I),T}async function E(m){const I=Lr(n).length,k=await t.getLatestBlock();await m.initialize({currentBlock:k}),r++,n[r]=m,m.id=r,m.idHex=np(r);const T=Lr(n).length;return g({prevFilterCount:I,newFilterCount:T}),r}async function A(m){const I=Lr(n).length;delete n[m];const k=Lr(n).length;g({prevFilterCount:I,newFilterCount:k})}async function R(){const m=Lr(n).length;n={},g({prevFilterCount:m,newFilterCount:0})}function g({prevFilterCount:m,newFilterCount:I}){if(m===0&&I>0){t.on("sync",a);return}if(m>0&&I===0){t.removeListener("sync",a);return}}}function Va(t){return ji(async(...e)=>{const r=await t(...e);return np(r.id)})}function ji(t){return G2(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function eE({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Lr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const tE=Er.default,{createAsyncMiddleware:Ef,createScaffoldMiddleware:rE}=su,nE=K2,{unsafeRandomBytes:iE,incrementHexInt:sE}=ai,oE=lu;var aE=cE;function cE({blockTracker:t,provider:e}){const r={},n=nE({blockTracker:t,provider:e});let i=!1;const s=new tE,o=rE({eth_subscribe:Ef(a),eth_unsubscribe:Ef(c)});return o.destroy=l,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],E=iE(16);let A;switch(d){case"newHeads":A=R({subId:E});break;case"logs":const m=f.params[1],I=await n.newLogFilter(m);A=g({subId:E,filter:I});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[E]=A,h.result=E;return;function R({subId:m}){const I={type:d,destroy:async()=>{t.removeListener("sync",I.update)},update:async({oldBlock:k,newBlock:T})=>{const F=T,J=sE(k);(await oE({provider:e,fromBlock:J,toBlock:F})).map(uE).filter(Y=>Y!==null).forEach(Y=>{u(m,Y)})}};return t.on("sync",I.update),I}function g({subId:m,filter:I}){return I.on("update",T=>u(m,T)),{type:d,destroy:async()=>await n.uninstallFilter(I.idHex)}}}async function c(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],E=r[d];if(!E){h.result=!1;return}delete r[d],await E.destroy(),h.result=!0}function u(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function l(){s.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];i=!0}}function uE(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(gs,"__esModule",{value:!0});gs.SubscriptionManager=void 0;const lE=xd,fE=aE,Cf=()=>{};class hE{constructor(e){const r=new lE.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=fE({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Cf,Cf),r}destroy(){this.subscriptionMiddleware.destroy()}}gs.SubscriptionManager=hE;var fu=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CoinbaseWalletProvider=void 0;const dE=fu(Er),pE=fu(Yi),Ha=hn,ye=Qn,xf=dn,If=gt,za=ds,bE=ve,oe=X,qa=fu(zm),gE=Xr,ge=Cd,yE=gs,Rf="DefaultChainId",Af="DefaultJsonRpcUrl";class vE extends dE.default{constructor(e){var r,n;super(),this._filterPolyfill=new gE.FilterPolyfill(this),this._subscriptionManager=new yE.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,oe.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(If.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,oe.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,oe.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Af))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Af,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Rf,r.toString(10)),((0,oe.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,oe.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,bE.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===ye.standardErrorCodes.provider.unsupportedChain?ye.standardErrors.provider.unsupportedChain(e):ye.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ha.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?xf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(ge.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ye.serializeError)(i,e)})}catch(n){throw(0,ye.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,ye.serializeError)(n,e)})}catch(n){return Promise.reject((0,ye.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,ye.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,ye.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ye.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ye.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ye.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,oe.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,ye.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",za.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,ye.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",za.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,ye.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",za.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,oe.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(If.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ge.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ge.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ge.JSONRPCMethod.net_version:return this._net_version();case ge.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ge.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ge.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ge.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ge.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ge.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ge.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ge.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ge.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ge.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ge.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ge.JSONRPCMethod.eth_signTypedData_v4:case ge.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ge.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ge.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ge.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ge.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ge.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ge.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ge.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ge.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ge.JSONRPCMethod.eth_subscribe:case ge.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,oe.ensureAddressString)(e);return this._addresses.map(i=>(0,oe.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ha.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,oe.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,oe.ensureAddressString)(e.to):null,i=e.value!=null?(0,oe.ensureBN)(e.value):new pE.default(0),s=e.data?(0,oe.ensureBuffer)(e.data):ne.Buffer.alloc(0),o=e.nonce!=null?(0,oe.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,oe.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,oe.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,oe.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,oe.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ye.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ye.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,oe.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Rf);if(!e)return(0,oe.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,oe.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ha.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?xf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,oe.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,oe.ensureParsedJSONObject)(e[0]),n=(0,oe.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=qa.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qa.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qa.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ye.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw ye.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ye.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ye.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ye.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ye.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Zr.CoinbaseWalletProvider=vE;var As={},Os={};const Xe=_r(c0);function rn(t){return typeof t=="function"}var Of=!1,nt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Of=t},get useDeprecatedSynchronousErrorHandling(){return Of}};function Fr(t){setTimeout(function(){throw t},0)}var qi={closed:!0,next:function(t){},error:function(t){if(nt.useDeprecatedSynchronousErrorHandling)throw t;Fr(t)},complete:function(){}},ze=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function hu(t){return t!==null&&typeof t=="object"}var mE=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),jn=mE,Se=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(rn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof jn?Tf(f.errors):[f]}}if(ze(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(hu(l))try{l.unsubscribe()}catch(h){e=e||[],h instanceof jn?e=e.concat(Tf(h.errors)):e.push(h)}}if(e)throw new jn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Tf(t){return t.reduce(function(e,r){return e.concat(r instanceof jn?r.errors:r)},[])}var Gi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ee=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=qi;break;case 1:if(!r){s.destination=qi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Mf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Mf(s,r,n,i);break}return s}return e.prototype[Gi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Se),Mf=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return rn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==qi&&(c=Object.create(n),rn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!nt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=nt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Fr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Fr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!nt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),nt.useDeprecatedSynchronousErrorHandling)throw i;Fr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!nt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return nt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Fr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ee);function du(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ee?t=n:t=null}return!0}function wE(t,e,r){if(t){if(t instanceof ee)return t;if(t[Gi])return t[Gi]()}return!t&&!e&&!r?new ee(qi):new ee(t,e,r)}var vn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Kt(t){return t}function gc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ip(t)}function ip(t){return t.length===0?Kt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ae=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=wE(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||nt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),nt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){nt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),du(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=kf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[vn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:ip(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=kf(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function kf(t){if(t||(t=nt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var _E=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Gt=_E,sp=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Se),op=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ee),Pe=function(t){W.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Gi]=function(){return new op(this)},e.prototype.lift=function(r){var n=new Nf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Gt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Gt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Gt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Gt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Gt;return this.hasError?(r.error(this.thrownError),Se.EMPTY):this.isStopped?(r.complete(),Se.EMPTY):(this.observers.push(r),new sp(this,r))},e.prototype.asObservable=function(){var r=new ae;return r.source=this,r},e.create=function(r,n){return new Nf(r,n)},e}(ae),Nf=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Se.EMPTY},e}(Pe);function pu(){return function(e){return e.lift(new SE(e))}}var SE=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new EE(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),EE=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ee),ap=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Se,r.add(this.source.subscribe(new xE(this.getSubject(),this))),r.closed&&(this._connection=null,r=Se.EMPTY)),r},e.prototype.refCount=function(){return pu()(this)},e}(ae),CE=function(){var t=ap.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),xE=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(op);function IE(t,e,r,n){return function(i){return i.lift(new RE(t,e,r,n))}}var RE=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new AE(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),AE=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Pe,i.set(n,s);var a=new yc(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new yc(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new OE(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ee),OE=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ee),yc=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Se,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new TE(s)),n.add(o.subscribe(r)),n},e}(ae),TE=function(t){W.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Se),cp=function(t){W.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Pe),ME=function(t){W.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Se),ci=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(ME),kE=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ci),vc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),ui=function(t){W.__extends(e,t);function e(r,n){n===void 0&&(n=vc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(vc),NE=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ui),up=new NE(kE),lp=up,nn=new ae(function(t){return t.complete()});function mn(t){return t?LE(t):nn}function LE(t){return new ae(function(e){return t.schedule(function(){return e.complete()})})}function Ke(t){return t&&typeof t.schedule=="function"}var fp=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function bu(t,e){return new ae(function(r){var n=new Se,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function li(t,e){return e?bu(t,e):new ae(fp(t))}function Ts(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ke(r)?(t.pop(),bu(t,r)):li(t)}function gu(t,e){return e?new ae(function(r){return e.schedule(PE,0,{error:t,subscriber:r})}):new ae(function(r){return r.error(t)})}function PE(t){var e=t.error,r=t.subscriber;r.error(e)}var mc;mc||(mc={});var $t=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ts(this.value);case"E":return gu(this.error);case"C":return mn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function jE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new DE(t,e))}}var DE=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new hp(e,this.scheduler,this.delay))},t}(),hp=function(t){W.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new $E(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage($t.createNext(r))},e.prototype._error=function(r){this.scheduleMessage($t.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage($t.createComplete()),this.unsubscribe()},e}(ee),$E=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),yu=function(t){W.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new BE(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Gt;if(this.isStopped||this.hasError?a=Se.EMPTY:(this.observers.push(r),a=new sp(this,r)),s&&r.add(r=new hp(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||lp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Pe),BE=function(){function t(e,r){this.time=e,this.value=r}return t}(),wn=function(t){W.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Se.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Se.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Pe),FE=1,WE=function(){return Promise.resolve()}(),wc={};function Lf(t){return t in wc?(delete wc[t],!0):!1}var Pf={setImmediate:function(t){var e=FE++;return wc[e]=!0,WE.then(function(){return Lf(e)&&t()}),e},clearImmediate:function(t){Lf(t)}},UE=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Pf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Pf.clearImmediate(n),r.scheduled=void 0)},e}(ci),VE=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(ui),dp=new VE(UE),Di=dp,pp=new ui(ci),qe=pp,HE=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(ci),zE=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(ui),bp=new zE(HE),qE=bp,GE=function(t){W.__extends(e,t);function e(r,n){r===void 0&&(r=gp),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(ui),gp=function(t){W.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ci);function xt(){}function JE(t){return!!t&&(t instanceof ae||typeof t.lift=="function"&&typeof t.subscribe=="function")}var QE=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),sn=QE,ZE=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),fi=ZE,YE=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),yp=YE;function ut(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new KE(t,e))}}var KE=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new XE(e,this.project,this.thisArg))},t}(),XE=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee);function vp(t,e,r){if(e)if(Ke(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return vp(t,r).apply(void 0,n).pipe(ut(function(s){return ze(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ae(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(e3,0,l)}else{if(!o){o=new wn;var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,n.concat([u]))}catch(f){du(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function e3(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.length<=1?l[0]:l;e.add(a.schedule(t3,0,{value:h,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function t3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function mp(t,e,r){if(e)if(Ke(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return mp(t,r).apply(void 0,n).pipe(ut(function(s){return ze(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ae(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(r3,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h){c.error(h);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){du(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function r3(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h)e.add(a.schedule(jf,0,{err:h,subject:c}));else{var d=l.length<=1?l[0]:l;e.add(a.schedule(n3,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(jf,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function n3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function jf(t){var e=t.err,r=t.subject;r.error(e)}var Rr=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ee),i3=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ee),s3=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Fr),e}};function o3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xt=o3(),a3=function(t){return function(e){var r=t[Xt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},c3=function(t){return function(e){var r=t[vn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},wp=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function _p(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Fn=function(t){if(t&&typeof t[vn]=="function")return c3(t);if(wp(t))return fp(t);if(_p(t))return s3(t);if(t&&typeof t[Xt]=="function")return a3(t);var e=hu(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Bt(t,e,r,n,i){if(i===void 0&&(i=new i3(t,r,n)),!i.closed)return e instanceof ae?e.subscribe(i):Fn(e)(i)}var Df={};function u3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ke(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ze(t[0])&&(t=t[0]),li(t,n).lift(new vu(r))}var vu=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new l3(e,this.resultSelector))},t}(),l3=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Df),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Bt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Df?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rr);function f3(t,e){return new ae(function(r){var n=new Se;return n.add(e.schedule(function(){var i=t[vn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function h3(t,e){return new ae(function(r){var n=new Se;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function d3(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(function(r){var n=new Se,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Xt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function p3(t){return t&&typeof t[vn]=="function"}function b3(t){return t&&typeof t[Xt]=="function"}function Sp(t,e){if(t!=null){if(p3(t))return f3(t,e);if(_p(t))return h3(t,e);if(wp(t))return bu(t,e);if(b3(t)||typeof t=="string")return d3(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Ft(t,e){return e?Sp(t,e):t instanceof ae?t:new ae(Fn(t))}var Ee=function(t){W.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ee),Ce=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ee);function xe(t,e){if(!e.closed){if(t instanceof ae)return t.subscribe(e);var r;try{r=Fn(t)(e)}catch(n){e.error(n)}return r}}function mr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(mr(function(i,s){return Ft(t(i,s)).pipe(ut(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new g3(t,r))})}var g3=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new y3(e,this.project,this.concurrent))},t}(),y3=function(t){W.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ee(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Ce),v3=mr;function mu(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),mr(Kt,t)}function Ep(){return mu(1)}function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ep()(Ts.apply(void 0,t))}function wu(t){return new ae(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Ft(r):mn();return n.subscribe(e)})}function m3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(ze(r))return Ri(r,null);if(hu(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ri(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&ze(t[0])?t[0]:t,Ri(t,null).pipe(ut(function(s){return i.apply(void 0,s)}))}return Ri(t,null)}function Ri(t,e){return new ae(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Ft(t[u]),f=!1;r.add(l.subscribe({next:function(h){f||(f=!0,o++),i[u]=h},error:function(h){return r.error(h)},complete:function(){s++,(s===n||!f)&&(o===n&&r.next(e?e.reduce(function(h,d,E){return h[d]=i[E],h},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Cp(t,e,r,n){return rn(r)&&(n=r,r=void 0),n?Cp(t,e,r).pipe(ut(function(i){return ze(i)?n.apply(void 0,i):n(i)})):new ae(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}xp(t,e,s,i,r)})}function xp(t,e,r,n,i){var s;if(S3(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(_3(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(w3(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)xp(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function w3(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function _3(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function S3(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ip(t,e,r){return r?Ip(t,e).pipe(ut(function(n){return ze(n)?r.apply(void 0,n):r(n)})):new ae(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(rn(e))return function(){return e(i,s)}})}function E3(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Kt,i=a.scheduler}else n===void 0||Ke(n)?(o=t,s=Kt,i=n):(o=t,s=n);return new ae(function(c){var u=o;if(i)return i.schedule(C3,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(h){c.error(h);return}if(!l){c.complete();break}}var f=void 0;try{f=s(u)}catch(h){c.error(h);return}if(c.next(f),c.closed)break;try{u=r(u)}catch(h){c.error(h);return}}while(!0)})}function C3(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function x3(t,e,r){return e===void 0&&(e=nn),r===void 0&&(r=nn),wu(function(){return t()?e:r})}function on(t){return!ze(t)&&t-parseFloat(t)+1>=0}function I3(t,e){return t===void 0&&(t=0),e===void 0&&(e=qe),(!on(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=qe),new ae(function(r){return r.add(e.schedule(R3,t,{subscriber:r,counter:0,period:t})),r})}function R3(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Rp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ke(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ae?t[0]:mu(r)(li(t,n))}var Ap=new ae(xt);function A3(){return Ap}function _c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return nn;var r=t[0],n=t.slice(1);return t.length===1&&ze(r)?_c.apply(void 0,r):new ae(function(i){var s=function(){return i.add(_c.apply(void 0,n).subscribe(i))};return Ft(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function O3(t,e){return e?new ae(function(r){var n=Object.keys(t),i=new Se;return i.add(e.schedule(T3,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ae(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function T3(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Op(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function er(t,e){return function(n){return n.lift(new M3(t,e))}}var M3=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new k3(e,this.predicate,this.thisArg))},t}(),k3=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ee);function N3(t,e,r){return[er(e,r)(new ae(Fn(t))),er(Op(e,r))(new ae(Fn(t)))]}function Tp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(ze(t[0]))t=t[0];else return t[0];return li(t,void 0).lift(new L3)}var L3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new P3(e))},t}(),P3=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Bt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Rr);function j3(t,e,r){return t===void 0&&(t=0),new ae(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(D3,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function D3(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Mp(t,e,r){t===void 0&&(t=0);var n=-1;return on(e)?n=Number(e)<1&&1||Number(e):Ke(e)&&(r=e),Ke(r)||(r=qe),new ae(function(i){var s=on(t)?t:+t-r.now();return r.schedule($3,s,{index:0,period:n,subscriber:i})})}function $3(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function B3(t,e){return new ae(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Ft(i):nn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function kp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),li(t,void 0).lift(new Np(r))}var Np=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new F3(e,this.resultSelector))},t}(),F3=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;ze(r)?n.push(new U3(r)):typeof r[Xt]=="function"?n.push(new W3(r[Xt]())):n.push(new V3(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee),W3=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),U3=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Xt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),V3=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Xt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return xe(this.observable,new Ee(this))},e}(Ce);const H3=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:sn,AsyncSubject:wn,BehaviorSubject:cp,ConnectableObservable:ap,EMPTY:nn,EmptyError:fi,GroupedObservable:yc,NEVER:Ap,Notification:$t,get NotificationKind(){return mc},ObjectUnsubscribedError:Gt,Observable:ae,ReplaySubject:yu,Scheduler:vc,Subject:Pe,Subscriber:ee,Subscription:Se,TimeoutError:yp,UnsubscriptionError:jn,VirtualAction:gp,VirtualTimeScheduler:GE,animationFrame:qE,animationFrameScheduler:bp,asap:Di,asapScheduler:dp,async:qe,asyncScheduler:pp,bindCallback:vp,bindNodeCallback:mp,combineLatest:u3,concat:Wn,config:nt,defer:wu,empty:mn,forkJoin:m3,from:Ft,fromEvent:Cp,fromEventPattern:Ip,generate:E3,identity:Kt,iif:x3,interval:I3,isObservable:JE,merge:Rp,never:A3,noop:xt,observable:vn,of:Ts,onErrorResumeNext:_c,pairs:O3,partition:N3,pipe:gc,queue:lp,queueScheduler:up,race:Tp,range:j3,scheduled:Sp,throwError:gu,timer:Mp,using:B3,zip:kp},Symbol.toStringTag,{value:"Module"})),Ms=_r(H3);var ks={};const Ns=_r(o0),hi=_r(u0);var Tt={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.CloseIcon=void 0;const $f=Xe;function z3(t){return(0,$f.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,$f.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ls.CloseIcon=z3;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.QRCodeIcon=void 0;const St=Xe;function q3(t){return(0,St.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,St.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,St.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,St.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,St.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,St.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,St.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,St.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,St.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,St.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Ps.QRCodeIcon=q3;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});const G3=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Eu.default=G3;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.StatusDotIcon=void 0;const Bf=Xe;function J3(t){return(0,Bf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Bf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}js.StatusDotIcon=J3;var Ds={};function Lp(t){this.mode=Ze.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Lp.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Mt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Mt.prototype={addData:function(t){var e=new Lp(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Mt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=we.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=we.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=we.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=we.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=we.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Mt.PAD0=236;Mt.PAD1=17;Mt.createData=function(t,e,r){for(var n=Rt.getRSBlocks(t,e),i=new Pp,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),we.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Mt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Mt.PAD1,8);return Mt.createBytes(i,n)};Mt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var f=we.getErrorCorrectPolynomial(u),h=new Gr(s[a],f.getLength()-1),d=h.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var E=l+d.getLength()-o[a].length;o[a][l]=E>=0?d.get(E):0}}for(var A=0,l=0;l<e.length;l++)A+=e[l].totalCount;for(var R=new Array(A),g=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(R[g++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(R[g++]=o[a][l]);return R};var Ze={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Qt={L:1,M:0,Q:3,H:2},Ut={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},we={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;we.getBCHDigit(e)-we.getBCHDigit(we.G15)>=0;)e^=we.G15<<we.getBCHDigit(e)-we.getBCHDigit(we.G15);return(t<<10|e)^we.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;we.getBCHDigit(e)-we.getBCHDigit(we.G18)>=0;)e^=we.G18<<we.getBCHDigit(e)-we.getBCHDigit(we.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return we.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Ut.PATTERN000:return(e+r)%2==0;case Ut.PATTERN001:return e%2==0;case Ut.PATTERN010:return r%3==0;case Ut.PATTERN011:return(e+r)%3==0;case Ut.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Ut.PATTERN101:return e*r%2+e*r%3==0;case Ut.PATTERN110:return(e*r%2+e*r%3)%2==0;case Ut.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Gr([1],0),r=0;r<t;r++)e=e.multiply(new Gr([1,Le.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ze.MODE_NUMBER:return 10;case Ze.MODE_ALPHA_NUM:return 9;case Ze.MODE_8BIT_BYTE:return 8;case Ze.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ze.MODE_NUMBER:return 12;case Ze.MODE_ALPHA_NUM:return 11;case Ze.MODE_8BIT_BYTE:return 16;case Ze.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ze.MODE_NUMBER:return 14;case Ze.MODE_ALPHA_NUM:return 13;case Ze.MODE_8BIT_BYTE:return 16;case Ze.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return r+=f*10,r}},Le={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Le.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Le.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var De=0;De<8;De++)Le.EXP_TABLE[De]=1<<De;for(var De=8;De<256;De++)Le.EXP_TABLE[De]=Le.EXP_TABLE[De-4]^Le.EXP_TABLE[De-5]^Le.EXP_TABLE[De-6]^Le.EXP_TABLE[De-8];for(var De=0;De<255;De++)Le.LOG_TABLE[Le.EXP_TABLE[De]]=De;function Gr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Gr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Le.gexp(Le.glog(this.get(r))+Le.glog(t.get(n)));return new Gr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Le.glog(this.get(0))-Le.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Le.gexp(Le.glog(t.get(n))+e);return new Gr(r,0).mod(t)}};function Rt(t,e){this.totalCount=t,this.dataCount=e}Rt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Rt.getRSBlocks=function(t,e){var r=Rt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new Rt(a,c));return i};Rt.getRsBlockTable=function(t,e){switch(e){case Qt.L:return Rt.RS_BLOCK_TABLE[(t-1)*4+0];case Qt.M:return Rt.RS_BLOCK_TABLE[(t-1)*4+1];case Qt.Q:return Rt.RS_BLOCK_TABLE[(t-1)*4+2];case Qt.H:return Rt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Pp(){this.buffer=[],this.length=0}Pp.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ga=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function jp(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Qt.L;case"M":return Qt.M;case"Q":return Qt.Q;case"H":return Qt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),f=1,h=0,d=0,E=Ga.length;d<=E;d++){var A=Ga[d];if(!A)throw new Error("Content too long: expected "+h+" but got "+l);switch(u){case"L":h=A[0];break;case"M":h=A[1];break;case"Q":h=A[2];break;case"H":h=A[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=h)break;f++}if(f>Ga.length)throw new Error("Content too long");return f}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Mt(o,a),this.qrcode.addData(s),this.qrcode.make()}jp.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,E=typeof e.predefined<"u"?!!e.predefined:!1,A=E?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",R=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",m="",I=0;I<c;I++)for(var k=0;k<c;k++){var T=r[k][I];if(T){var F=k*u+e.padding*u,J=I*l+e.padding*l;if(h){var G=F;F=J,J=G}if(f){var U=u+F,Y=l+J;F=Number.isInteger(F)?Number(F):F.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),m+="M"+F+","+J+" V"+Y+" H"+U+" V"+J+" H"+F+" Z "}else E?g+=i+'<use x="'+F.toString()+'" y="'+J.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+F.toString()+'" y="'+J.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const $=o*this.options.image.width/100,N=a*this.options.image.height/100,V=o/2-$/2,H=a/2-N/2;ie+=`<svg x="${V}" y="${H}" width="${$}" height="${N}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+s,ie+="</svg>"}var K="";switch(t.container){case"svg":d&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,K+=A+R+g,K+=ie,K+="</svg>";break;case"svg-viewbox":d&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,K+=A+R+g,K+=ie,K+="</svg>";break;case"g":K+='<g width="'+o+'" height="'+a+'">'+s,K+=A+R+g,K+=ie,K+="</g>";break;default:K+=(A+R+g+ie).replace(/^\s+/,"");break}return K};var Q3=jp,Z3=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.QRCode=void 0;const Y3=Xe,Ff=hi,K3=Z3(Q3),X3=t=>{const[e,r]=(0,Ff.useState)("");return(0,Ff.useEffect)(()=>{var n,i;const s=new K3.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=ne.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Y3.h)("img",{src:e,alt:"QR Code"}):null};Ds.QRCode=X3;var $s={},xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var e4=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($s,"__esModule",{value:!0});$s.Spinner=void 0;const Ai=Xe,t4=e4(xu),r4=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ai.h)("div",{class:"-cbwsdk-spinner"},(0,Ai.h)("style",null,t4.default),(0,Ai.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ai.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};$s.Spinner=r4;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var _n=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.CoinbaseAppSteps=Tt.CoinbaseWalletSteps=Tt.ConnectItem=Tt.ConnectContent=void 0;const st=_n(Ns),te=Xe,Wf=hi,n4=X,i4=Zn,s4=Ls,o4=_n(_u),a4=_n(Su),Dp=Ps,c4=_n(Eu),u4=_n(Cu),l4=js,f4=Ds,h4=$s,d4=_n(Iu),Uf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:a4.default,steps:Bp},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:o4.default,steps:Fp}},p4=t=>{switch(t){case"coinbase-app":return c4.default;case"coinbase-wallet-app":default:return u4.default}},Sc=t=>t==="light"?"#FFFFFF":"#0A0B0D";function b4(t){const{theme:e}=t,[r,n]=(0,Wf.useState)("coinbase-wallet-app"),i=(0,Wf.useCallback)(u=>{n(u)},[]),s=(0,n4.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Uf[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,te.h)("div",{"data-testid":"connect-content",class:(0,st.default)("-cbwsdk-connect-content",e)},(0,te.h)("style",null,d4.default),(0,te.h)("div",{class:"-cbwsdk-connect-content-header"},(0,te.h)("h2",{class:(0,st.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,te.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,te.h)(s4.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,te.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,te.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,te.h)("div",null,Object.entries(Uf).map(([u,l])=>(0,te.h)($p,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,te.h)("div",{class:(0,st.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,te.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,te.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,te.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,te.h)(f4.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:p4(r),width:25,height:25}}),(0,te.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:i4.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:s})),(0,te.h)(a,{theme:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:(0,st.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,te.h)(h4.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,te.h)("p",null,"Connecting...")))))}Tt.ConnectContent=b4;function $p({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,te.h)("div",{onClick:s,class:(0,st.default)("-cbwsdk-connect-item",i,{selected:n})},(0,te.h)("div",null,(0,te.h)("img",{src:r,alt:t})),(0,te.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,te.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,te.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Tt.ConnectItem=$p;function Bp({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,st.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,te.h)("li",{class:(0,st.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"Scan")," "),(0,te.h)("span",{class:(0,st.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Dp.QRCodeIcon,{fill:Sc(t)})))))}Tt.CoinbaseWalletSteps=Bp;function Fp({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,st.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,te.h)("li",{class:(0,st.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"More")),(0,te.h)("span",{class:(0,st.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(l4.StatusDotIcon,{fill:Sc(t)})),(0,te.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,te.h)("strong",null,"Scan")),(0,te.h)("span",{class:(0,st.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Dp.QRCodeIcon,{fill:Sc(t)})))))}Tt.CoinbaseAppSteps=Fp;var Bs={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ArrowLeftIcon=void 0;const Vf=Xe;function g4(t){return(0,Vf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Vf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Fs.ArrowLeftIcon=g4;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.LaptopIcon=void 0;const Ja=Xe;function y4(t){return(0,Ja.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ja.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ja.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Ws.LaptopIcon=y4;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.SafeIcon=void 0;const Hf=Xe;function v4(t){return(0,Hf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Hf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Us.SafeIcon=v4;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Wp=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.TryExtensionContent=void 0;const ir=Wp(Ns),Re=Xe,Qa=hi,m4=Fs,w4=Ws,_4=Us,S4=Wp(Ru);function E4({theme:t}){const[e,r]=(0,Qa.useState)(!1),n=(0,Qa.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Qa.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Re.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension",t)},(0,Re.h)("style",null,S4.default),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("h3",{class:(0,ir.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Re.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Re.h)("button",{class:(0,ir.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Re.h)("div",null,!e&&(0,Re.h)(m4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)(w4.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)(_4.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Bs.TryExtensionContent=E4;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Up=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});ks.ConnectDialog=void 0;const Za=Up(Ns),sr=Xe,Ya=hi,C4=Tt,x4=Bs,I4=Up(Au),R4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Ya.useState)(!e),[s,o]=(0,Ya.useState)(!e);(0,Ya.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,sr.h)("div",{class:(0,Za.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,sr.h)("style",null,I4.default),(0,sr.h)("div",{class:(0,Za.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,sr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,sr.h)("div",{class:(0,Za.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,sr.h)(C4.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,sr.h)(x4.TryExtensionContent,{theme:a}))))};ks.ConnectDialog=R4;Object.defineProperty(Os,"__esModule",{value:!0});Os.LinkFlow=void 0;const Ka=Xe,zf=Ms,A4=ks;class O4{constructor(e){this.extensionUI$=new zf.BehaviorSubject({}),this.subscriptions=new zf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Ka.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Ka.render)((0,Ka.h)(A4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Os.LinkFlow=O4;var Vp={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Z&&Z.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ns),n=Xe,i=hi,s=e(Ou),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const d=this.nextItemKey++;return this.items.set(d,h),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:h}))))),this.root)}}t.Snackbar=c;const u=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=u;const l=({autoExpand:f,message:h,menuItems:d,appSrc:E})=>{const[A,R]=(0,i.useState)(!0),[g,m]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const k=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{k.forEach(window.clearTimeout)}});const I=()=>{m(!g)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",A&&"-cbwsdk-snackbar-instance-hidden",g&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:a(E),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!g&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((k,T)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",k.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:k.onClick,key:T},(0,n.h)("svg",{width:k.svgWidth,height:k.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":k.defaultFillRule,"clip-rule":k.defaultClipRule,d:k.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",k.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},k.info)))))};t.SnackbarInstance=l})(Vp);var Vs={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var T4=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.injectCssReset=void 0;const M4=T4(Tu);function k4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(M4.default)),document.documentElement.appendChild(t)}Vs.injectCssReset=k4;Object.defineProperty(As,"__esModule",{value:!0});As.WalletSDKUI=void 0;const N4=Os,L4=Vp,P4=Vs;class j4{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new L4.Snackbar({darkMode:e.darkMode}),this.linkFlow=new N4.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,P4.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}As.WalletSDKUI=j4;var Hs={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});var Wr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Wr||(Wr={}));function Hp(t,e,r){if(!r||typeof r.value!==Wr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Wr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Wr.boolTrue,writable:Wr.boolTrue}),n}}}zs.bind=Hp;zs.default=Hp;function zp(t){return function(r){return r.lift(new D4(t))}}var D4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $4(e,this.durationSelector))},t}(),$4=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=xe(n,new Ee(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ce);function B4(t,e){return e===void 0&&(e=qe),zp(function(){return Mp(t,e)})}function F4(t){return function(r){return r.lift(new W4(t))}}var W4=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new U4(e,this.closingNotifier))},t}(),U4=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(xe(n,new Ee(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Ce);function V4(t,e){return e===void 0&&(e=null),function(n){return n.lift(new H4(t,e))}}var H4=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=z4:this.subscriberClass=q4}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),z4=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ee),q4=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ee);function G4(t){var e=arguments.length,r=qe;Ke(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new J4(t,n,i,r))}}var J4=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Z4(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Q4=function(){function t(){this.buffer=[]}return t}(),Z4=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(qf,n,u))}else{var l={subscriber:a,context:c},f={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(qp,n,l)),a.add(o.schedule(Y4,i,f))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(qf,i,s))}},e.prototype.openContext=function(){var r=new Q4;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ee);function qf(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Y4(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(qp,r,{subscriber:n,context:s})),o.schedule(t,e))}function qp(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function K4(t,e){return function(n){return n.lift(new X4(t,e))}}var X4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new e5(e,this.openings,this.closingSelector))},t}(),e5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Bt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Se,o={buffer:i,subscription:s};n.push(o);var a=Bt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Rr);function t5(t){return function(e){return e.lift(new r5(t))}}var r5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new n5(e,this.closingSelector))},t}(),n5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Se,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(xe(i,new Ee(this))),this.subscribing=!1},e}(Ce);function i5(t){return function(r){var n=new s5(t),i=r.lift(n);return n.caught=i}}var s5=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new o5(e,this.selector,this.caught))},t}(),o5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Ee(this);this.add(i);var s=xe(n,i);s!==i&&this.add(s)}},e}(Ce);function a5(t){return function(e){return e.lift(new vu(t))}}function c5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ze(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Ft([n].concat(t)),new vu(r))}}function u5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Wn.apply(void 0,[r].concat(t)))}}function Gp(t,e){return mr(t,e,1)}function l5(t,e){return Gp(function(){return t},e)}function f5(t){return function(e){return e.lift(new h5(t,e))}}var h5=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new d5(e,this.predicate,this.source))},t}(),d5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ee);function p5(t){return function(e){return e.lift(new b5(t))}}var b5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.durationSelector))},t}(),g5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=xe(n,new Ee(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Ce);function y5(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new v5(t,e))}}var v5=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new m5(e,this.dueTime,this.scheduler))},t}(),m5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w5,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ee);function w5(t){t.debouncedNext()}function di(t){return t===void 0&&(t=null),function(e){return e.lift(new _5(t))}}var _5=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new S5(e,this.defaultValue))},t}(),S5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ee);function Jp(t){return t instanceof Date&&!isNaN(+t)}function E5(t,e){e===void 0&&(e=qe);var r=Jp(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new C5(n,e))}}var C5=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new x5(e,this.delay,this.scheduler))},t}(),x5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new I5(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification($t.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification($t.createComplete()),this.unsubscribe()},e}(ee),I5=function(){function t(e,r){this.time=e,this.notification=r}return t}();function R5(t,e){return e?function(r){return new O5(r,e).lift(new Gf(t))}:function(r){return r.lift(new Gf(t))}}var Gf=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new A5(e,this.delayDurationSelector))},t}(),A5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Bt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Rr),O5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new T5(r,this.source))},e}(ae),T5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ee);function M5(){return function(e){return e.lift(new k5)}}var k5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new N5(e))},t}(),N5=function(t){W.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ee);function L5(t,e){return function(r){return r.lift(new P5(t,e))}}var P5=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new j5(e,this.keySelector,this.flushes))},t}(),j5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(xe(i,new Ee(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Ce);function Qp(t,e){return function(r){return r.lift(new D5(t,e))}}var D5=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new $5(e,this.compare,this.keySelector))},t}(),$5=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ee);function B5(t,e){return Qp(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function qs(t){return t===void 0&&(t=U5),function(e){return e.lift(new F5(t))}}var F5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new W5(e,this.errorFactory))},t}(),W5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ee);function U5(){return new fi}function Mu(t){return function(e){return t===0?mn():e.lift(new V5(t))}}var V5=function(){function t(e){if(this.total=e,this.total<0)throw new sn}return t.prototype.call=function(e,r){return r.subscribe(new H5(e,this.total))},t}(),H5=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ee);function z5(t,e){if(t<0)throw new sn;var r=arguments.length>=2;return function(n){return n.pipe(er(function(i,s){return s===t}),Mu(1),r?di(e):qs(function(){return new sn}))}}function q5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Wn(r,Ts.apply(void 0,t))}}function G5(t,e){return function(r){return r.lift(new J5(t,e,r))}}var J5=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Q5(e,this.predicate,this.thisArg,this.source))},t}(),Q5=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function Z5(){return function(t){return t.lift(new Y5)}}var Y5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new K5(e))},t}(),K5=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(xe(r,new Ee(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ce);function Zp(t,e){return e?function(r){return r.pipe(Zp(function(n,i){return Ft(t(n,i)).pipe(ut(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new X5(t))}}var X5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new eC(e,this.project))},t}(),eC=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ee(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ce);function tC(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new rC(t,e,r))}}var rC=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new nC(e,this.project,this.concurrent,this.scheduler))},t}(),nC=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(xe(r,new Ee(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Ce);function iC(t){return function(e){return e.lift(new sC(t))}}var sC=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new oC(e,this.callback))},t}(),oC=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Se(n)),i}return e}(ee);function aC(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Yp(t,r,!1,e))}}var Yp=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new cC(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),cC=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ee);function uC(t,e){return function(r){return r.lift(new Yp(t,r,!0,e))}}function lC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?er(function(i,s){return t(i,s,n)}):Kt,Mu(1),r?di(e):qs(function(){return new fi}))}}function fC(){return function(e){return e.lift(new hC)}}var hC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dC(e))},t}(),dC=function(t){W.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ee);function pC(){return function(t){return t.lift(new bC)}}var bC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gC(e))},t}(),gC=function(t){W.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function Ji(t){return function(r){return t===0?mn():r.lift(new yC(t))}}var yC=function(){function t(e){if(this.total=e,this.total<0)throw new sn}return t.prototype.call=function(e,r){return r.subscribe(new vC(e,this.total))},t}(),vC=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ee);function mC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?er(function(i,s){return t(i,s,n)}):Kt,Ji(1),r?di(e):qs(function(){return new fi}))}}function wC(t){return function(e){return e.lift(new _C(t))}}var _C=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new SC(e,this.value))},t}(),SC=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ee);function EC(){return function(e){return e.lift(new CC)}}var CC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new xC(e))},t}(),xC=function(t){W.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next($t.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next($t.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next($t.createComplete()),r.complete()},e}(ee);function Qi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new IC(t,e,r))}}var IC=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new RC(e,this.accumulator,this.seed,this.hasSeed))},t}(),RC=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ee);function Gs(t,e){return arguments.length>=2?function(n){return gc(Qi(t,e),Ji(1),di(e))(n)}:function(n){return gc(Qi(function(i,s,o){return t(i,s,o+1)}),Ji(1))(n)}}function AC(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Gs(e)}function OC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Rp.apply(void 0,[r].concat(t)))}}function TC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?mr(function(){return t},e,r):(typeof e=="number"&&(r=e),mr(function(){return t},r))}function MC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new kC(t,e,r))}}var kC=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new NC(e,this.accumulator,this.seed,this.concurrent))},t}(),NC=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Ee(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Ce);function LC(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Gs(e)}function wr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new PC(i,e));var s=Object.create(n,CE);return s.source=n,s.subjectFactory=i,s}}var PC=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function jC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&ze(t[0])&&(t=t[0]),function(r){return r.lift(new DC(t))}}var DC=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new $C(e,this.nextSources))},t}(),$C=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Ee(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Ce);function BC(){return function(t){return t.lift(new FC)}}var FC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new WC(e))},t}(),WC=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ee);function UC(t,e){return function(r){return[er(t,e)(r),er(Op(t,e))(r)]}}function VC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ut(HC(t,r))(n)}}function HC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function zC(t){return t?wr(function(){return new Pe},t):wr(new Pe)}function qC(t){return function(e){return wr(new cp(t))(e)}}function GC(){return function(t){return wr(new wn)(t)}}function JC(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new yu(t,e,n);return function(o){return wr(function(){return s},i)(o)}}function QC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&ze(t[0])&&(t=t[0]),n.lift.call(Tp.apply(void 0,[n].concat(t)))}}function ZC(t){return t===void 0&&(t=-1),function(e){return t===0?mn():t<0?e.lift(new Jf(-1,e)):e.lift(new Jf(t-1,e))}}var Jf=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new YC(e,this.count,this.source))},t}(),YC=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function KC(t){return function(e){return e.lift(new XC(t))}}var XC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new ex(e,this.notifier,r))},t}(),ex=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Pe;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=xe(r,new Ee(this))},e}(Ce);function tx(t){return t===void 0&&(t=-1),function(e){return e.lift(new rx(t,e))}}var rx=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new nx(e,this.count,this.source))},t}(),nx=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function ix(t){return function(e){return e.lift(new sx(t,e))}}var sx=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ox(e,this.notifier,this.source))},t}(),ox=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Pe;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=xe(i,new Ee(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Ce);function ax(t){return function(e){return e.lift(new cx(t))}}var cx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new ux(e),i=r.subscribe(n);return i.add(xe(this.notifier,new Ee(n))),i},t}(),ux=function(t){W.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ce);function lx(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new fx(t,e))}}var fx=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new hx(e,this.period,this.scheduler))},t}(),hx=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(dx,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ee);function dx(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function px(t,e){return function(r){return r.lift(new bx(t,e))}}var bx=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new gx(e,this.compareTo,this.comparator))},t}(),gx=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new yx(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ee),yx=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ee);function vx(){return new Pe}function mx(){return function(t){return pu()(wr(vx)(t))}}function wx(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(_x(n))}}function _x(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,f=!1;return function(d){c++;var E;!a||l?(l=!1,a=new yu(r,i,o),E=a.subscribe(this),u=d.subscribe({next:function(A){a.next(A)},error:function(A){l=!0,a.error(A)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):E=a.subscribe(this),this.add(function(){c--,E.unsubscribe(),E=void 0,u&&!f&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function Sx(t){return function(e){return e.lift(new Ex(t,e))}}var Ex=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Cx(e,this.predicate,this.source))},t}(),Cx=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new fi)},e}(ee);function xx(t){return function(e){return e.lift(new Ix(t))}}var Ix=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Rx(e,this.total))},t}(),Rx=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ee);function Ax(t){return function(e){return e.lift(new Ox(t))}}var Ox=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new sn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ee(e)):r.subscribe(new Tx(e,this._skipCount))},t}(),Tx=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ee);function Mx(t){return function(e){return e.lift(new kx(t))}}var kx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Nx(e,this.notifier))},t}(),Nx=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Ee(i);i.add(s),i.innerSubscription=s;var o=xe(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Ce);function Lx(t){return function(e){return e.lift(new Px(t))}}var Px=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new jx(e,this.predicate))},t}(),jx=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(ee);function Dx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ke(r)?(t.pop(),function(n){return Wn(t,n,r)}):function(n){return Wn(t,n)}}var $x=function(t){W.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Di);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!on(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Di),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Di),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ae);function Bx(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Fx(t,e))}}var Fx=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new $x(r,this.delay,this.scheduler).subscribe(e)},t}();function Un(t,e){return typeof e=="function"?function(r){return r.pipe(Un(function(n,i){return Ft(t(n,i)).pipe(ut(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Wx(t))}}var Wx=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Ux(e,this.project))},t}(),Ux=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Ee(this),s=this.destination;s.add(i),this.innerSubscription=xe(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Ce);function Vx(){return Un(Kt)}function Hx(t,e){return e?Un(function(){return t},e):Un(function(){return t})}function zx(t){return function(e){return e.lift(new qx(t))}}var qx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Gx(e),i=xe(this.notifier,new Ee(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Gx=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ce);function Jx(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Qx(t,e))}}var Qx=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Zx(e,this.predicate,this.inclusive))},t}(),Zx=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ee);function Yx(t,e,r){return function(i){return i.lift(new Kx(t,e,r))}}var Kx=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new Xx(e,this.nextOrObserver,this.error,this.complete))},t}(),Xx=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=xt,o._tapError=xt,o._tapComplete=xt,o._tapError=i||xt,o._tapComplete=s||xt,rn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||xt,o._tapError=n.error||xt,o._tapComplete=n.complete||xt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ee),Kp={leading:!0,trailing:!1};function eI(t,e){return e===void 0&&(e=Kp),function(r){return r.lift(new tI(t,!!e.leading,!!e.trailing))}}var tI=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new rI(e,this.durationSelector,this.leading,this.trailing))},t}(),rI=function(t){W.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=xe(n,new Ee(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Ce);function nI(t,e,r){return e===void 0&&(e=qe),r===void 0&&(r=Kp),function(n){return n.lift(new iI(t,e,r.leading,r.trailing))}}var iI=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new sI(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),sI=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(oI,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ee);function oI(t){var e=t.subscriber;e.clearThrottle()}function aI(t){return t===void 0&&(t=qe),function(e){return wu(function(){return e.pipe(Qi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ut(function(r){var n=r.current,i=r.last,s=r.value;return new cI(s,n-i)}))})}}var cI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Xp(t,e,r){return r===void 0&&(r=qe),function(n){var i=Jp(t),s=i?+t-r.now():Math.abs(t);return n.lift(new uI(s,i,e,r))}}var uI=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new lI(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),lI=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(xe(n,new Ee(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Ce);function fI(t,e){return e===void 0&&(e=qe),Xp(t,gu(new yp),e)}function hI(t){return t===void 0&&(t=qe),ut(function(e){return new dI(e,t.now())})}var dI=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function pI(t,e,r){return r===0?[e]:(t.push(e),t)}function bI(){return Gs(pI,[])}function gI(t){return function(r){return r.lift(new yI(t))}}var yI=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new vI(e),i=r.subscribe(n);return i.closed||n.add(xe(this.windowBoundaries,new Ee(n))),i},t}(),vI=function(t){W.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Pe,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Pe;n.next(i)},e}(Ce);function mI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new wI(t,e))}}var wI=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new _I(e,this.windowSize,this.startWindowEvery))},t}(),_I=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Pe],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Pe;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ee);function SI(t){var e=qe,r=null,n=Number.POSITIVE_INFINITY;return Ke(arguments[3])&&(e=arguments[3]),Ke(arguments[2])?e=arguments[2]:on(arguments[2])&&(n=Number(arguments[2])),Ke(arguments[1])?e=arguments[1]:on(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new EI(t,r,n,e))}}var EI=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new xI(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),CI=function(t){W.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Pe),xI=function(t){W.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(e0,n,u)),a.add(o.schedule(RI,i,l))}else{var f={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(II,n,f))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new CI;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ee);function II(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function RI(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(e0,e,c),o.add(a.subscription),o.schedule(t,i)}function e0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function AI(t,e){return function(r){return r.lift(new OI(t,e))}}var OI=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new TI(e,this.openings,this.closingSelector))},t}(),TI=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Bt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new Pe,l=new Se,f={window:u,subscription:l};this.contexts.push(f);var h=Bt(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Rr);function MI(t){return function(r){return r.lift(new kI(t))}}var kI=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new NI(e,this.closingSelector))},t}(),NI=function(t){W.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Pe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Bt(this,s))},e}(Rr);function LI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new PI(i,n))}}var PI=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new jI(e,this.observables,this.project))},t}(),jI=function(t){W.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Bt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rr);function DI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(kp.apply(void 0,[n].concat(t)))}}function $I(t){return function(e){return e.lift(new Np(t))}}const BI=Object.freeze(Object.defineProperty({__proto__:null,audit:zp,auditTime:B4,buffer:F4,bufferCount:V4,bufferTime:G4,bufferToggle:K4,bufferWhen:t5,catchError:i5,combineAll:a5,combineLatest:c5,concat:u5,concatAll:Ep,concatMap:Gp,concatMapTo:l5,count:f5,debounce:p5,debounceTime:y5,defaultIfEmpty:di,delay:E5,delayWhen:R5,dematerialize:M5,distinct:L5,distinctUntilChanged:Qp,distinctUntilKeyChanged:B5,elementAt:z5,endWith:q5,every:G5,exhaust:Z5,exhaustMap:Zp,expand:tC,filter:er,finalize:iC,find:aC,findIndex:uC,first:lC,flatMap:v3,groupBy:IE,ignoreElements:fC,isEmpty:pC,last:mC,map:ut,mapTo:wC,materialize:EC,max:AC,merge:OC,mergeAll:mu,mergeMap:mr,mergeMapTo:TC,mergeScan:MC,min:LC,multicast:wr,observeOn:jE,onErrorResumeNext:jC,pairwise:BC,partition:UC,pluck:VC,publish:zC,publishBehavior:qC,publishLast:GC,publishReplay:JC,race:QC,reduce:Gs,refCount:pu,repeat:ZC,repeatWhen:KC,retry:tx,retryWhen:ix,sample:ax,sampleTime:lx,scan:Qi,sequenceEqual:px,share:mx,shareReplay:wx,single:Sx,skip:xx,skipLast:Ax,skipUntil:Mx,skipWhile:Lx,startWith:Dx,subscribeOn:Bx,switchAll:Vx,switchMap:Un,switchMapTo:Hx,take:Mu,takeLast:Ji,takeUntil:zx,takeWhile:Jx,tap:Yx,throttle:eI,throttleTime:nI,throwIfEmpty:qs,timeInterval:aI,timeout:fI,timeoutWith:Xp,timestamp:hI,toArray:bI,window:gI,windowCount:mI,windowTime:SI,windowToggle:AI,windowWhen:MI,withLatestFrom:LI,zip:DI,zipAll:$I},Symbol.toStringTag,{value:"Module"})),ku=_r(BI);var Js={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.ClientMessagePublishEvent=it.ClientMessageSetSessionConfig=it.ClientMessageGetSessionConfig=it.ClientMessageIsLinked=it.ClientMessageHostSession=void 0;function FI(t){return Object.assign({type:"HostSession"},t)}it.ClientMessageHostSession=FI;function WI(t){return Object.assign({type:"IsLinked"},t)}it.ClientMessageIsLinked=WI;function UI(t){return Object.assign({type:"GetSessionConfig"},t)}it.ClientMessageGetSessionConfig=UI;function VI(t){return Object.assign({type:"SetSessionConfig"},t)}it.ClientMessageSetSessionConfig=VI;function HI(t){return Object.assign({type:"PublishEvent"},t)}it.ClientMessagePublishEvent=HI;var t0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ms,r=ku;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(t0);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.isServerMessageFail=void 0;function zI(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Qs.isServerMessageFail=zI;Object.defineProperty(Js,"__esModule",{value:!0});Js.WalletSDKConnection=void 0;const ht=Ms,fe=ku,An=dn,Pr=Yn,On=it,Tn=hn,Oi=t0,Xa=Qs,Qf=1e4,qI=6e4;class GI{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new ht.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Pr.IntNumber)(1),this.connectedSubject=new ht.BehaviorSubject(!1),this.linkedSubject=new ht.BehaviorSubject(!1),this.sessionConfigSubject=new ht.ReplaySubject(1);const o=new Oi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Tn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:An.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(a=>a===Oi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(a=>!this.destroyed),(0,fe.flatMap)(a=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(a=>(0,ht.iif)(()=>a===Oi.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(c=>this.sendIsLinked()),(0,fe.tap)(c=>this.sendGetSessionConfig()),(0,fe.map)(c=>!0)),(0,ht.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(a=>(0,ht.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(a=>(0,ht.iif)(()=>a===Oi.ConnectionState.CONNECTED,(0,ht.timer)(0,Qf)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Tn.EVENTS.LINKED,{sessionIdHash:An.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Tn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:An.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Tn.EVENTS.STARTED_CONNECTING,{sessionIdHash:An.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Tn.EVENTS.DISCONNECTED,{sessionIdHash:An.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,On.ClientMessageSetSessionConfig)({id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,Xa.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,On.ClientMessagePublishEvent)({id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,Xa.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Qf*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=qI){const n=e.id;try{this.sendData(e)}catch(i){return(0,ht.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,ht.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,On.ClientMessageHostSession)({id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,Xa.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,On.ClientMessageIsLinked)({id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,On.ClientMessageGetSessionConfig)({id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Js.WalletSDKConnection=GI;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.decrypt=an.encrypt=void 0;const Zi=X;async function JI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Zi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),f=new Uint8Array([...r,...u,...l]);return(0,Zi.uint8ArrayToHex)(f)}an.encrypt=JI;function QI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Zi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Zi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(l,i,u),h=new TextDecoder;r(h.decode(f))}catch(f){n(f)}})()})}an.decrypt=QI;var Zs={},Ys={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ys);Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Web3RequestCanceledMessage=void 0;const ZI=Ys;function YI(t){return{type:ZI.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Zs.Web3RequestCanceledMessage=YI;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.Web3RequestMessage=void 0;const KI=Ys;function XI(t){return Object.assign({type:KI.RelayMessageType.WEB3_REQUEST},t)}Ks.Web3RequestMessage=XI;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.isWeb3ResponseMessage=cn.Web3ResponseMessage=void 0;const r0=Ys;function eR(t){return Object.assign({type:r0.RelayMessageType.WEB3_RESPONSE},t)}cn.Web3ResponseMessage=eR;function tR(t){return t&&t.type===r0.RelayMessageType.WEB3_RESPONSE}cn.isWeb3ResponseMessage=tR;var rR=Z&&Z.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nR=Z&&Z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n0=Z&&Z.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},iR=Z&&Z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rR(e,t,r);return nR(e,t),e},sR=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.WalletSDKRelay=void 0;const i0=sR(zs),or=Ms,Ae=ku,Fe=hn,oR=Js,jr=Qn,aR=Yn,me=X,Vt=iR(an),Ht=dn,Ti=gt,je=ds,cR=Zs,uR=Ks,rt=ve,Je=cn;class bt extends Ti.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new or.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new or.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ht.Session.load(this.storage)||new Ht.Session(this.storage).save(),r=new oR.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ae.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ae.skip)(1),(0,Ae.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Ti.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Fe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ae.mergeMap)(i=>Vt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ae.mergeMap)(i=>Vt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ae.mergeMap)(i=>(0,or.zip)(Vt.decrypt(i.metadata.ChainId,e.secret),Vt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ae.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ae.mergeMap)(i=>Vt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),bt.accountRequestCallbackIds.size>0&&(Array.from(bt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Je.Web3ResponseMessage)({id:s,response:(0,rt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),bt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ae.mergeMap)(i=>Vt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ae.timeout)(1e3),(0,Ae.catchError)(e=>(0,or.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Fe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ht.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ht.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new or.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:je.Web3Method.signEthereumMessage,params:{message:(0,me.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:je.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,me.hexStringFromBuffer)(e,!0),signature:(0,me.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:je.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,me.bigIntStringFromBN)(e.weiValue),data:(0,me.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,me.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,me.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,me.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,me.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:je.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,me.bigIntStringFromBN)(e.weiValue),data:(0,me.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,me.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,me.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,me.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,me.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:je.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,me.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:je.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,me.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:je.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,me.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,uR.Web3RequestMessage)({id:e,request:r}),s=Ht.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Fe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Fe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,cR.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new or.Observable(s=>{Vt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ae.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,or.from)(Vt.decrypt(e.data,this.session.secret)).pipe((0,Ae.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Je.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,rt.isRequestEthereumAccountsResponse)(n)){bt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),bt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,jr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:je.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,me.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,me.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:r,response:(0,rt.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=jr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}bt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:je.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,me.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:n,response:(0,rt.SelectProviderResponse)(aR.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:n,response:(0,rt.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:je.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,me.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((h,d)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return d(new Error(R.errorMessage));h(R)});const E=R=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,rt.WatchAssetReponse)(!1)}))},A=()=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,rt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:A,onCancel:E,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:f}}addEthereumChain(e,r,n,i,s,o){const a={method:je.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,me.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,d)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return d(new Error(R.errorMessage));h(R)});const E=R=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,rt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},A=R=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,rt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:E,onApprove:A,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:je.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,me.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,rt.isErrorResponse)(f)&&f.errorCode)return c(jr.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const u=f=>{var h;if(f){const d=(h=(0,jr.getErrorCode)(f))!==null&&h!==void 0?h:jr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,je.Web3Method.switchEthereumChain,f instanceof Error?f:jr.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i,response:(0,rt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=f=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i,response:(0,rt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ht.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case je.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case je.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case je.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case je.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}bt.accountRequestCallbackIds=new Set;n0([i0.default],bt.prototype,"resetAndReload",null);n0([i0.default],bt.prototype,"handleIncomingEvent",null);Hs.WalletSDKRelay=bt;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.WalletSDKRelayEventManager=void 0;const lR=X;class fR{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,lR.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Xs.WalletSDKRelayEventManager=fR;const hR="@coinbase/wallet-sdk",dR="3.7.1",pR="Coinbase Wallet JavaScript SDK",bR=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],gR="dist/index.js",yR="dist/index.d.ts",vR="https://github.com/coinbase/coinbase-wallet-sdk.git",mR="Coinbase, Inc.",wR="Apache-2.0",_R={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},SR={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},ER={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},CR={node:">= 10.0.0"},xR={name:hR,version:dR,description:pR,keywords:bR,main:gR,types:yR,repository:vR,author:mR,license:wR,scripts:_R,dependencies:SR,devDependencies:ER,engines:CR};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.CoinbaseWalletSDK=void 0;const IR=ls,RR=fs,AR=Zr,OR=As,TR=Hs,MR=Xs,kR=X,NR={}.LINK_API_URL||"https://www.walletlink.org",s0={}.SDK_VERSION||xR.version||"unknown";class eo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||NR;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new OR.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new RR.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",eo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new MR.WalletSDKRelayEventManager,this._relay=new TR.WalletSDKRelay({linkAPIUrl:s,version:s0,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new AR.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,kR.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,IR.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Dn.CoinbaseWalletSDK=eo;eo.VERSION=s0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Dn,r=Zr;var n=Dn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Zr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(kc);const LR=a0(kc),HR=l0({__proto__:null,default:LR},[kc]);export{HR as i};
